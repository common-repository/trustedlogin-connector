(()=>{var e,t,n={571:(e,t,n)=>{"use strict";e.exports=n(69)},69:(e,t,n)=>{"use strict";var r,s=n(609),l=(r=s)&&"object"==typeof r&&"default"in r?r.default:r;function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===n&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}('.multiSelectContainer,.multiSelectContainer *,.multiSelectContainer :after,.multiSelectContainer :before{box-sizing:border-box}.multiSelectContainer{position:relative;text-align:left;width:100%}.disable_ms{opacity:.5;pointer-events:none}.display-none{display:none}.searchWrapper{border:1px solid #ccc;border-radius:4px;min-height:22px;padding:5px;position:relative}.multiSelectContainer input{background:transparent;border:none;margin-top:3px}.multiSelectContainer input:focus{outline:none}.chip{align-items:center;background:#0096fb;border-radius:11px;color:#fff;display:inline-flex;font-size:13px;line-height:19px;margin-bottom:5px;margin-right:5px;padding:4px 10px}.chip,.singleChip{white-space:nowrap}.singleChip{background:none;border-radius:none;color:inherit}.singleChip i{display:none}.closeIcon{cursor:pointer;float:right;height:13px;margin-left:5px;width:13px}.optionListContainer{background:#fff;border-radius:4px;margin-top:1px;position:absolute;width:100%;z-index:2}.multiSelectContainer ul{border:1px solid #ccc;border-radius:4px;display:block;margin:0;max-height:250px;overflow-y:auto;padding:0}.multiSelectContainer li{padding:10px}.multiSelectContainer li:hover{background:#0096fb;color:#fff;cursor:pointer}.checkbox{margin-right:10px}.disableSelection{opacity:.5;pointer-events:none}.highlightOption{background:#0096fb;color:#fff}.displayBlock{display:block}.displayNone{display:none}.notFound{display:block;padding:10px}.singleSelect{padding-right:20px}li.groupHeading{color:#908e8e;padding:5px 15px;pointer-events:none}li.groupChildEle{padding-left:30px}.icon_down_dir{position:absolute;right:10px;top:50%;transform:translateY(-50%);width:14px}.icon_down_dir:before{content:"\\e803"}.custom-close{display:flex}');var a={circle:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M256%2C33C132.3%2C33%2C32%2C133.3%2C32%2C257c0%2C123.7%2C100.3%2C224%2C224%2C224c123.7%2C0%2C224-100.3%2C224-224C480%2C133.3%2C379.7%2C33%2C256%2C33z%20%20%20%20M364.3%2C332.5c1.5%2C1.5%2C2.3%2C3.5%2C2.3%2C5.6c0%2C2.1-0.8%2C4.2-2.3%2C5.6l-21.6%2C21.7c-1.6%2C1.6-3.6%2C2.3-5.6%2C2.3c-2%2C0-4.1-0.8-5.6-2.3L256%2C289.8%20%20%20l-75.4%2C75.7c-1.5%2C1.6-3.6%2C2.3-5.6%2C2.3c-2%2C0-4.1-0.8-5.6-2.3l-21.6-21.7c-1.5-1.5-2.3-3.5-2.3-5.6c0-2.1%2C0.8-4.2%2C2.3-5.6l75.7-76%20%20%20l-75.9-75c-3.1-3.1-3.1-8.2%2C0-11.3l21.6-21.7c1.5-1.5%2C3.5-2.3%2C5.6-2.3c2.1%2C0%2C4.1%2C0.8%2C5.6%2C2.3l75.7%2C74.7l75.7-74.7%20%20%20c1.5-1.5%2C3.5-2.3%2C5.6-2.3c2.1%2C0%2C4.1%2C0.8%2C5.6%2C2.3l21.6%2C21.7c3.1%2C3.1%2C3.1%2C8.2%2C0%2C11.3l-75.9%2C75L364.3%2C332.5z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",circle2:"data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2096%2096%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M48%2C0A48%2C48%2C0%2C1%2C0%2C96%2C48%2C48.0512%2C48.0512%2C0%2C0%2C0%2C48%2C0Zm0%2C84A36%2C36%2C0%2C1%2C1%2C84%2C48%2C36.0393%2C36.0393%2C0%2C0%2C1%2C48%2C84Z%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M64.2422%2C31.7578a5.9979%2C5.9979%2C0%2C0%2C0-8.4844%2C0L48%2C39.5156l-7.7578-7.7578a5.9994%2C5.9994%2C0%2C0%2C0-8.4844%2C8.4844L39.5156%2C48l-7.7578%2C7.7578a5.9994%2C5.9994%2C0%2C1%2C0%2C8.4844%2C8.4844L48%2C56.4844l7.7578%2C7.7578a5.9994%2C5.9994%2C0%2C0%2C0%2C8.4844-8.4844L56.4844%2C48l7.7578-7.7578A5.9979%2C5.9979%2C0%2C0%2C0%2C64.2422%2C31.7578Z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",close:"data:image/svg+xml,%3Csvg%20height%3D%22135.467mm%22%20style%3D%22shape-rendering%3AgeometricPrecision%3B%20text-rendering%3AgeometricPrecision%3B%20image-rendering%3AoptimizeQuality%3B%20fill-rule%3Aevenodd%3B%20clip-rule%3Aevenodd%22%20viewBox%3D%220%200%2013547%2013547%22%20width%3D%22135.467mm%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cdefs%3E%20%20%20%20%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20%20%20%20%20.fil0%20%7Bfill%3Anone%7D%20%20%20%20%20%20%20%20%20%20%20%20.fil1%20%7Bfill%3A%23fff%7D%20%20%20%20%20%20%20%20%3C%2Fstyle%3E%20%20%20%20%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Ebene_x0020_1%22%3E%20%20%20%20%20%20%20%20%3Cpolygon%20class%3D%22fil0%22%20points%3D%220%2C0%2013547%2C0%2013547%2C13547%200%2C13547%20%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20class%3D%22fil1%22%20d%3D%22M714%2012832l12118%200%200%20-12117%20-12118%200%200%2012117zm4188%20-2990l1871%20-1871%201871%201871%201197%20-1197%20-1871%20-1871%201871%20-1871%20-1197%20-1197%20-1871%201871%20-1871%20-1871%20-1197%201197%201871%201871%20-1871%201871%201197%201197z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",cancel:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M443.6%2C387.1L312.4%2C255.4l131.5-130c5.4-5.4%2C5.4-14.2%2C0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4%20%20L256%2C197.8L124.9%2C68.3c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4L68%2C105.9c-5.4%2C5.4-5.4%2C14.2%2C0%2C19.6l131.5%2C130L68.4%2C387.1%20%20c-2.6%2C2.6-4.1%2C6.1-4.1%2C9.8c0%2C3.7%2C1.4%2C7.2%2C4.1%2C9.8l37.4%2C37.6c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1L256%2C313.1l130.7%2C131.1%20%20c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1l37.4-37.6c2.6-2.6%2C4.1-6.1%2C4.1-9.8C447.7%2C393.2%2C446.2%2C389.7%2C443.6%2C387.1z%22%2F%3E%3C%2Fsvg%3E"};function c(e){var t,n,r=s.useRef(null);return n=e.outsideClick,s.useEffect((function(){function e(e){t.current&&!t.current.contains(e.target)&&n()}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t=r]),l.createElement("div",{ref:r},e.children)}var d=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={inputValue:"",options:t.options,filteredOptions:t.options,unfilteredOptions:t.options,selectedValues:Object.assign([],t.selectedValues),preSelectedValues:Object.assign([],t.selectedValues),toggleOptionsList:!1,highlightOption:t.avoidHighlightFirstOption?-1:0,showCheckbox:t.showCheckbox,keepSearchTerm:t.keepSearchTerm,groupedObject:[],closeIconType:a[t.closeIcon]||a.circle},n.optionTimeout=null,n.searchWrapper=l.createRef(),n.searchBox=l.createRef(),n.onChange=n.onChange.bind(o(n)),n.onKeyPress=n.onKeyPress.bind(o(n)),n.onFocus=n.onFocus.bind(o(n)),n.onBlur=n.onBlur.bind(o(n)),n.renderMultiselectContainer=n.renderMultiselectContainer.bind(o(n)),n.renderSelectedList=n.renderSelectedList.bind(o(n)),n.onRemoveSelectedItem=n.onRemoveSelectedItem.bind(o(n)),n.toggelOptionList=n.toggelOptionList.bind(o(n)),n.onArrowKeyNavigation=n.onArrowKeyNavigation.bind(o(n)),n.onSelectItem=n.onSelectItem.bind(o(n)),n.filterOptionsByInput=n.filterOptionsByInput.bind(o(n)),n.removeSelectedValuesFromOptions=n.removeSelectedValuesFromOptions.bind(o(n)),n.isSelectedValue=n.isSelectedValue.bind(o(n)),n.fadeOutSelection=n.fadeOutSelection.bind(o(n)),n.isDisablePreSelectedValues=n.isDisablePreSelectedValues.bind(o(n)),n.renderGroupByOptions=n.renderGroupByOptions.bind(o(n)),n.renderNormalOption=n.renderNormalOption.bind(o(n)),n.listenerCallback=n.listenerCallback.bind(o(n)),n.resetSelectedValues=n.resetSelectedValues.bind(o(n)),n.getSelectedItems=n.getSelectedItems.bind(o(n)),n.getSelectedItemsCount=n.getSelectedItemsCount.bind(o(n)),n.hideOnClickOutside=n.hideOnClickOutside.bind(o(n)),n.onCloseOptionList=n.onCloseOptionList.bind(o(n)),n.isVisible=n.isVisible.bind(o(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n);var s=r.prototype;return s.initialSetValue=function(){var e=this.props,t=e.groupBy,n=this.state.options;e.showCheckbox||e.singleSelect||this.removeSelectedValuesFromOptions(!1),t&&this.groupByOptions(n)},s.resetSelectedValues=function(){var e=this,t=this.state.unfilteredOptions;return new Promise((function(n){e.setState({selectedValues:[],preSelectedValues:[],options:t,filteredOptions:t},(function(){n(),e.initialSetValue()}))}))},s.getSelectedItems=function(){return this.state.selectedValues},s.getSelectedItemsCount=function(){return this.state.selectedValues.length},s.componentDidMount=function(){this.initialSetValue(),this.searchWrapper.current.addEventListener("click",this.listenerCallback)},s.componentDidUpdate=function(e){var t=this.props,n=t.options,r=t.selectedValues,s=e.selectedValues;JSON.stringify(e.options)!==JSON.stringify(n)&&this.setState({options:n,filteredOptions:n,unfilteredOptions:n},this.initialSetValue),JSON.stringify(s)!==JSON.stringify(r)&&this.setState({selectedValues:Object.assign([],r),preSelectedValues:Object.assign([],r)},this.initialSetValue)},s.listenerCallback=function(){this.searchBox.current.focus()},s.componentWillUnmount=function(){this.optionTimeout&&clearTimeout(this.optionTimeout),this.searchWrapper.current.removeEventListener("click",this.listenerCallback)},s.removeSelectedValuesFromOptions=function(e){var t=this.props,n=t.isObject,r=t.displayValue,s=t.groupBy,l=this.state,i=l.selectedValues,o=void 0===i?[]:i,a=l.unfilteredOptions;if(!e&&s&&this.groupByOptions(l.options),o.length||e){if(n){var c=a.filter((function(e){return-1===o.findIndex((function(t){return t[r]===e[r]}))}));return s&&this.groupByOptions(c),void this.setState({options:c,filteredOptions:c},this.filterOptionsByInput)}var d=a.filter((function(e){return-1===o.indexOf(e)}));this.setState({options:d,filteredOptions:d},this.filterOptionsByInput)}},s.groupByOptions=function(e){var t=this.props.groupBy,n=e.reduce((function(e,n){var r=n[t]||"Others";return e[r]=e[r]||[],e[r].push(n),e}),Object.create({}));this.setState({groupedObject:n})},s.onChange=function(e){var t=this.props.onSearch;this.setState({inputValue:e.target.value},this.filterOptionsByInput),t&&t(e.target.value)},s.onKeyPress=function(e){var t=this.props.onKeyPressFn;t&&t(e,e.target.value)},s.filterOptionsByInput=function(){var e,t=this,n=this.state,r=n.inputValue,s=this.props,l=s.displayValue;e=n.filteredOptions.filter(s.isObject?function(e){return t.matchValues(e[l],r)}:function(e){return t.matchValues(e,r)}),this.groupByOptions(e),this.setState({options:e})},s.matchValues=function(e,t){return this.props.caseSensitiveSearch?e.indexOf(t)>-1:e.toLowerCase?e.toLowerCase().indexOf(t.toLowerCase())>-1:e.toString().indexOf(t)>-1},s.onArrowKeyNavigation=function(e){var t=this.state,n=t.options,r=t.highlightOption,s=t.toggleOptionsList,l=t.selectedValues;if(8!==e.keyCode||t.inputValue||this.props.disablePreSelectedValues||!l.length||this.onRemoveSelectedItem(l.length-1),n.length)if(38===e.keyCode)this.setState(r>0?function(e){return{highlightOption:e.highlightOption-1}}:{highlightOption:n.length-1});else if(40===e.keyCode)this.setState(r<n.length-1?function(e){return{highlightOption:e.highlightOption+1}}:{highlightOption:0});else if("Enter"===e.key&&n.length&&s){if(-1===r)return;this.onSelectItem(n[r])}},s.onRemoveSelectedItem=function(e){var t,n=this,r=this.state.selectedValues,s=this.props,l=s.onRemove,i=s.showCheckbox,o=s.displayValue;t=s.isObject?r.findIndex((function(t){return t[o]===e[o]})):r.indexOf(e),r.splice(t,1),l(r,e),this.setState({selectedValues:r},(function(){i||n.removeSelectedValuesFromOptions(!0)})),this.props.closeOnSelect||this.searchBox.current.focus()},s.onSelectItem=function(e){var t=this,n=this.state.selectedValues,r=this.props,s=r.selectionLimit,l=r.onSelect,i=r.singleSelect,o=r.showCheckbox;if(this.state.keepSearchTerm||this.setState({inputValue:""}),i)return this.onSingleSelect(e),void l([e],e);this.isSelectedValue(e)?this.onRemoveSelectedItem(e):s!=n.length&&(n.push(e),l(n,e),this.setState({selectedValues:n},(function(){o?t.filterOptionsByInput():t.removeSelectedValuesFromOptions(!0)})),this.props.closeOnSelect||this.searchBox.current.focus())},s.onSingleSelect=function(e){this.setState({selectedValues:[e],toggleOptionsList:!1})},s.isSelectedValue=function(e){var t=this.props,n=t.displayValue,r=this.state.selectedValues;return t.isObject?r.filter((function(t){return t[n]===e[n]})).length>0:r.filter((function(t){return t===e})).length>0},s.renderOptionList=function(){var e=this.props,t=e.groupBy,n=e.style,r=e.emptyRecordMsg,s=e.loadingMessage,i=void 0===s?"loading...":s,o=this.state.options;return e.loading?l.createElement("ul",{className:"optionContainer",style:n.optionContainer},"string"==typeof i&&l.createElement("span",{style:n.loadingMessage,className:"notFound"},i),"string"!=typeof i&&i):l.createElement("ul",{className:"optionContainer",style:n.optionContainer},0===o.length&&l.createElement("span",{style:n.notFound,className:"notFound"},r),t?this.renderGroupByOptions():this.renderNormalOption())},s.renderGroupByOptions=function(){var e=this,t=this.props,n=t.isObject,r=void 0!==n&&n,s=t.displayValue,i=t.showCheckbox,o=t.style,a=t.singleSelect,c=this.state.groupedObject;return Object.keys(c).map((function(t){return l.createElement(l.Fragment,{key:t},l.createElement("li",{className:"groupHeading",style:o.groupHeading},t),c[t].map((function(t,n){var c=e.isSelectedValue(t);return l.createElement("li",{key:"option"+n,style:o.option,className:"groupChildEle option "+(c?"selected":"")+" "+(e.fadeOutSelection(t)?"disableSelection":"")+" "+(e.isDisablePreSelectedValues(t)?"disableSelection":""),onClick:function(){return e.onSelectItem(t)}},i&&!a&&l.createElement("input",{type:"checkbox",className:"checkbox",readOnly:!0,checked:c}),e.props.optionValueDecorator(r?t[s]:(t||"").toString(),t))})))}))},s.renderNormalOption=function(){var e=this,t=this.props,n=t.isObject,r=void 0!==n&&n,s=t.displayValue,i=t.showCheckbox,o=t.style,a=t.singleSelect,c=this.state.highlightOption;return this.state.options.map((function(t,n){var d=e.isSelectedValue(t);return l.createElement("li",{key:"option"+n,style:o.option,className:"option "+(d?"selected":"")+" "+(c===n?"highlightOption highlight":"")+" "+(e.fadeOutSelection(t)?"disableSelection":"")+" "+(e.isDisablePreSelectedValues(t)?"disableSelection":""),onClick:function(){return e.onSelectItem(t)}},i&&!a&&l.createElement("input",{type:"checkbox",readOnly:!0,className:"checkbox",checked:d}),e.props.optionValueDecorator(r?t[s]:(t||"").toString(),t))}))},s.renderSelectedList=function(){var e=this,t=this.props,n=t.isObject,r=void 0!==n&&n,s=t.displayValue,i=t.style,o=t.singleSelect,a=t.customCloseIcon,c=this.state,d=c.closeIconType;return c.selectedValues.map((function(t,n){return l.createElement("span",{className:"chip  "+(o&&"singleChip")+" "+(e.isDisablePreSelectedValues(t)&&"disableSelection"),key:n,style:i.chips},e.props.selectedValueDecorator(r?t[s]:(t||"").toString(),t),!e.isDisablePreSelectedValues(t)&&(a?l.createElement("i",{className:"custom-close",onClick:function(){return e.onRemoveSelectedItem(t)}},a):l.createElement("img",{className:"icon_cancel closeIcon",src:d,onClick:function(){return e.onRemoveSelectedItem(t)}})))}))},s.isDisablePreSelectedValues=function(e){var t=this.props,n=t.displayValue,r=this.state.preSelectedValues;return!(!t.disablePreSelectedValues||!r.length)&&(t.isObject?r.filter((function(t){return t[n]===e[n]})).length>0:r.filter((function(t){return t===e})).length>0)},s.fadeOutSelection=function(e){var t=this.props,n=t.selectionLimit;if(!t.singleSelect){var r=this.state.selectedValues;return-1!=n&&n==r.length&&(n==r.length?!t.showCheckbox||!this.isSelectedValue(e):void 0)}},s.toggelOptionList=function(){this.setState({toggleOptionsList:!this.state.toggleOptionsList,highlightOption:this.props.avoidHighlightFirstOption?-1:0})},s.onCloseOptionList=function(){this.setState({toggleOptionsList:!1,highlightOption:this.props.avoidHighlightFirstOption?-1:0,inputValue:""})},s.onFocus=function(){this.state.toggleOptionsList?clearTimeout(this.optionTimeout):this.toggelOptionList()},s.onBlur=function(){this.setState({inputValue:""},this.filterOptionsByInput),this.optionTimeout=setTimeout(this.onCloseOptionList,250)},s.isVisible=function(e){return!!e&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},s.hideOnClickOutside=function(){var e=this,t=document.getElementsByClassName("multiselect-container")[0];document.addEventListener("click",(function(n){t&&!t.contains(n.target)&&e.isVisible(t)&&e.toggelOptionList()}))},s.renderMultiselectContainer=function(){var e=this.state,t=e.inputValue,n=e.toggleOptionsList,r=e.selectedValues,s=this.props,i=s.placeholder,o=s.style,a=s.singleSelect,c=s.id,d=s.name,u=s.hidePlaceholder,p=s.disable,m=s.showArrow,h=s.customArrow;return l.createElement("div",{className:"multiselect-container multiSelectContainer "+(p?"disable_ms":"")+" "+(s.className||""),id:c||"multiselectContainerReact",style:o.multiselectContainer},l.createElement("div",{className:"search-wrapper searchWrapper "+(a?"singleSelect":""),ref:this.searchWrapper,style:o.searchBox,onClick:a?this.toggelOptionList:function(){}},!s.hideSelectedList&&this.renderSelectedList(),l.createElement("input",{type:"text",ref:this.searchBox,className:"searchBox "+(a&&r.length?"display-none":""),id:(c||"search")+"_input",name:(d||"search_name")+"_input",onChange:this.onChange,onKeyPress:this.onKeyPress,value:t,onFocus:this.onFocus,onBlur:this.onBlur,placeholder:a&&r.length||u&&r.length?"":i,onKeyDown:this.onArrowKeyNavigation,style:o.inputField,autoComplete:"off",disabled:a||p}),(a||m)&&l.createElement(l.Fragment,null,h?l.createElement("span",{className:"icon_down_dir"},h):l.createElement("img",{src:"data:image/svg+xml,%3Csvg%20height%3D%2232%22%20viewBox%3D%220%200%2032%2032%22%20width%3D%2232%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cg%20id%3D%22background%22%3E%20%20%20%20%20%20%20%20%3Crect%20fill%3D%22none%22%20height%3D%2232%22%20width%3D%2232%22%2F%3E%20%20%20%20%3C%2Fg%3E%20%20%20%20%3Cg%20id%3D%22arrow_x5F_down%22%3E%20%20%20%20%20%20%20%20%3Cpolygon%20points%3D%222.002%2C10%2016.001%2C24%2030.002%2C10%20%20%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",className:"icon_cancel icon_down_dir"}))),l.createElement("div",{className:"optionListContainer "+(n?"displayBlock":"displayNone"),onMouseDown:function(e){e.preventDefault()}},this.renderOptionList()))},s.render=function(){return l.createElement(c,{outsideClick:this.onCloseOptionList},this.renderMultiselectContainer())},r}(l.Component);d.defaultProps={options:[],disablePreSelectedValues:!1,selectedValues:[],isObject:!0,displayValue:"model",showCheckbox:!1,selectionLimit:-1,placeholder:"Select",groupBy:"",style:{},emptyRecordMsg:"No Options Available",onSelect:function(){},onRemove:function(){},onKeyPressFn:function(){},closeIcon:"circle2",singleSelect:!1,caseSensitiveSearch:!1,id:"",name:"",closeOnSelect:!0,avoidHighlightFirstOption:!1,hidePlaceholder:!1,showArrow:!1,keepSearchTerm:!1,customCloseIcon:"",className:"",customArrow:void 0,selectedValueDecorator:function(e){return e},optionValueDecorator:function(e){return e}},t.default=d},694:(e,t,n)=>{"use strict";var r=n(925);function s(){}function l(){}l.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,l,i){if(i!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:s};return n.PropTypes=n,n}},556:(e,t,n)=>{e.exports=n(694)()},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},20:(e,t,n)=>{"use strict";var r=n(609),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,l={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!a.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===l[r]&&(l[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:d,props:l,_owner:o.current}}t.Fragment=l,t.jsx=c,t.jsxs=c},848:(e,t,n)=>{"use strict";e.exports=n(20)},609:e=>{"use strict";e.exports=window.React}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var l=r[e]={exports:{}};return n[e](l,l.exports,s),l.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var l=Object.create(null);s.r(l);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,s.d(l,i),l},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=s(609),t=s.t(e,2);const n=window.wp.element,r=window.wp.i18n,l={account_id:{label:(0,r.__)("Account ID","trustedlogin-connector"),id:"account_id"},private_key:{label:(0,r.__)("Private Key","trustedlogin-connector"),id:"private_key"},public_key:{label:(0,r.__)("Public Key","trustedlogin-connector"),id:"public_key"},helpdesk:{label:(0,r.__)("Help Desk","trustedlogin-connector"),id:"helpdesk",defaultValue:"helpscout",options:[{value:"helpscout",label:(0,r.__)("Help Scout","trustedlogin-connector")},{value:"freescout",label:(0,r.__)("FreeScout","trustedlogin-connector")}]},approved_roles:{label:(0,r.__)("What Roles Provide Support?","trustedlogin-connector"),id:"approved_roles",type:"array"}};var i=s(848);const o={isConnected:!1,hasOnboarded:!0,teams:[],integrations:{helpscout:!1}},a={account_id:"",private_key:"",public_key:"",helpdesk:"",approved_roles:[],helpdesk_settings:[]},c=(0,e.createContext)(o),d=()=>{const t=(0,e.useContext)(c);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},u=({api:t,children:n,initialTeams:r=null,initialIntegrationSettings:s=null})=>{const[d,u]=(0,e.useState)((()=>{const e={...o};return null!==r&&(e.teams=r),null!==s&&(e.integrations=s),e}));(0,e.useEffect)((()=>{null===r&&null===s&&t.getSettings().then((({teams:e,integrations:t})=>{u({...d,teams:e,integrations:t})})).catch((e=>console.error("Error fetching settings:",e)))}),[t,r,s]);const p=(0,e.useMemo)((()=>{if(!r||!r.length)return null;if(window.tlVendor?.accessKey?.ak_account_id){const e=r.findIndex((e=>e.account_id===window.tlVendor.accessKey.ak_account_id));return e>-1?e:1===r.length?0:null}return 1===r.length?0:null}),[r]),[m,f]=(0,e.useState)(!1),[g,x]=(0,e.useState)({text:"",type:"error",visible:!1}),[v,b]=(0,e.useState)((()=>window?.tlVendor?.errorMessage?{text:window.tlVendor.errorMessage,type:"error",visible:!0}:null)),y=(e,t=null)=>{const n=e.map(((e,t)=>({id:t+1,...e}))),r={...d,teams:n};t&&(r.integrations=t),u(r)},C=(0,e.useCallback)(((e,t)=>{u((n=>{const r=n.teams.map((n=>n.id===e?{...n,status:"error",message:t.message}:n));return{...n,teams:r}}))}),[]),w=(0,e.useCallback)((async(e,t=null,n=null)=>{f(!0);try{const n=await e();t&&t(n)}catch(e){n&&C(n,e),console.error(e)}finally{f(!1)}}),[C]),j=(0,e.useCallback)((()=>{w((()=>t.getSettings()),(e=>u(e)))}),[t,w]),k=(0,e.useCallback)(((e,n=!1,r=null)=>{e={...a,...e,id:d.teams.length+1};const s=[...d.teams,e];if(!n)return u({...d,teams:s}),r&&r(e),void f(!1);w((()=>t.updateSettings({...d,teams:s})),(t=>{y(t.teams),r&&r(e)}),e.id)}),[t,d,y,w]),S=(0,e.useCallback)(((e,n=null)=>{const r=d.teams.filter((t=>t.id!==e));w((()=>t.updateSettings({...d,teams:r})),(e=>{y(e.teams),x({text:"Team deleted",type:"success",visible:!0}),n&&n()}))}),[t,d,y,w]),N=(0,e.useCallback)(((e,n=!1)=>{const r=d.teams.map((t=>t.id===e.id?e:t));if(!n)return u({...d,teams:r}),void f(!1);w((()=>t.updateSettings({...d,teams:r})),(e=>{y(e.teams),x({text:"Team Saved",type:"success",visible:!0})}),e.id)}),[t,d,y,w]),_=(0,e.useCallback)((()=>{w((()=>t.updateSettings({teams:d.teams})),(e=>{y(e.teams),x({text:"Settings Saved",type:"success",visible:!0})}))}),[t,d,y,w]),E=(0,e.useCallback)((({integrations:e,updateState:n=!1})=>{w((()=>t.updateSettings({integrations:e})),(e=>{n&&u({...d,integrations:e.integrations}),x({text:"Integrations Saved",type:"success",visible:!0})}))}),[t,d,w]),L=(0,e.useCallback)(((e,n)=>{w((()=>t.resetTeamIntegrations(e,n)),(e=>{y(e.teams,e.integrations)}))}),[t,y,w]),O=(0,e.useCallback)((e=>d.teams.find((t=>t.id===e))),[d.teams]),T=(0,e.useCallback)((()=>Object.keys(d.integrations).reduce(((e,t)=>{const n=d.integrations[t];if(n&&n.enabled){const n=l.helpdesk.options.find((e=>t===e.value));e.push(n)}return e}),[])),[d.integrations]);return(0,i.jsx)(c.Provider,{value:{settings:d,loading:m,initializeSettings:j,addTeam:k,removeTeam:S,setTeam:N,onSave:_,onSaveIntegrationSettings:E,resetTeamIntegration:L,getTeam:O,getEnabledHelpDeskOptions:T},children:(0,i.jsx)(h,{initialTeam:p,children:n})})},p=(0,e.createContext)(),m=()=>(0,e.useContext)(p);function h({children:t,initialView:n=null,initialTeam:r=null}){const{hasOnboarded:s,teams:l}=d(),[o,a]=(0,e.useState)((()=>window.tlInitialView?window.tlInitialView:s?"teams":"onboarding")),[c,u]=(0,e.useState)(r);return(0,e.useEffect)((()=>{["teams/edit","teams/access_key"].includes(o)||u(!1)}),[o]),(0,i.jsx)(p.Provider,{value:{currentView:o,setCurrentView:a,currentTeam:c,setCurrentTeam:u},children:t})}const f=({children:e,onClick:t,className:n,type:r})=>(0,i.jsx)("button",{onClick:t,type:r,className:n,children:e}),g=({children:e,onClick:t})=>(0,i.jsx)(f,{onClick:t,type:"submit",className:"ml-3 inline-flex leading-6 justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-tl hover:bg-indigo-700 focus:outline-none focus:ring-2 ring-offset-2 focus:ring-sky-500",children:e}),x=({children:e,onClick:t})=>(0,i.jsx)(f,{onClick:t,type:"submit",className:"bg-white leading-6 py-2 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-900 hover:bg-gray-50 focus:outline-none focus:ring-2 ring-offset-2 focus:ring-sky-500",children:e}),v=({onSubmit:e,onCancel:t,submitText:n,cancelText:s=(0,r.__)("Cancel","trustedlogin-connector")})=>(0,i.jsx)("div",{className:"pt-8 mt-4 border-t",children:(0,i.jsxs)("div",{className:"flex justify-end",children:[(0,i.jsx)(x,{onClick:t,children:s}),(0,i.jsx)(g,{onClick:e,children:n})]})}),b=()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("svg",{version:"1.1",className:"trustedlogin-horizontal-logo mx-auto",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"1299.9px",height:"371.1px",viewBox:"0 0 1299.9 371.1",style:{enableBackground:"new 0 0 1299.9 371.1"},xmlSpace:"preserve",children:[(0,i.jsxs)("g",{children:[(0,i.jsx)("g",{children:(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{className:"tl-hl-st0",d:"M157.5,75.6c-26.5,0-48.1,21.6-48.1,48.1v39.8h20.6v-39.8c0-15.2,12.3-27.5,27.5-27.5 c15.1,0,27.5,12.3,27.5,27.5v39.8h20.6v-39.8C205.6,97.2,184.1,75.6,157.5,75.6z"}),(0,i.jsx)("g",{children:(0,i.jsx)("path",{className:"tl-hl-st1",d:"M157.5,150.9c-38.5,0-69.7,4.8-69.7,10.8v79.8c0,38.5,47.5,54.8,69.7,54.8c22.2,0,69.7-16.3,69.7-54.8 v-79.8C227.2,155.7,196,150.9,157.5,150.9z"})})]})}),(0,i.jsx)("g",{children:(0,i.jsx)("path",{className:"tl-hl-st2",d:"M157.5,171.1c-23,0-42.5,15.3-48.9,36.2h14.8c5.8-13.1,18.9-22.3,34.1-22.3c20.5,0,37.2,16.7,37.2,37.2 c0,20.5-16.7,37.2-37.2,37.2c-15.2,0-28.3-9.2-34.1-22.3h-14.8c6.4,20.9,25.9,36.2,48.9,36.2c28.2,0,51.1-22.9,51.1-51.1 C208.6,194,185.7,171.1,157.5,171.1z"})}),(0,i.jsx)("path",{className:"tl-hl-st2",d:"M177.2,219.9l-28.3-16.4c-2.2-1.3-4-0.2-4,2.3v9.8H87.9v13h56.9v9.8c0,2.5,1.8,3.6,4,2.3l28.3-16.4 C179.3,223.2,179.3,221.2,177.2,219.9z"})]}),(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{className:"tl-hl-st1",d:"M298.5,183.3h-26.3v-18.2H346v18.2h-26.3v68.5h-21.2V183.3z"}),(0,i.jsx)("path",{className:"tl-hl-st1",d:"M357.8,165.1H388c8.8,0,13.1,0.6,16.8,2.1c9.8,3.8,16,12.6,16,25.2c0,9.2-4.4,19.3-13,23.6v0.2 c0,0,1.2,1.6,3.3,5.2l16.8,30.3h-23.6L389,222.5H379v29.2h-21.2V165.1z M388.2,204.4c6.8,0,11-3.8,11-10.7 c0-6.5-2.4-10.4-13.1-10.4H379v21.1H388.2z"}),(0,i.jsx)("path",{className:"tl-hl-st1",d:"M439.7,165.1H461v54.8c0,9.1,5.9,13.9,15,13.9c9.1,0,15-4.8,15-13.9v-54.8h21.2v54.8 c0,19.5-14.3,33.3-36.1,33.3c-22.1,0-36.4-13.8-36.4-33.3V165.1z"}),(0,i.jsx)("path",{className:"tl-hl-st1",d:"M537.3,224.7c0,0,9.8,9,20.7,9c4.4,0,9.1-1.7,9.1-6.9c0-10.3-39-9.9-39-36.6c0-16,13.4-26.5,30.7-26.5 c18.7,0,27.9,9.8,27.9,9.8l-9,17.3c0,0-8.7-7.6-19.1-7.6c-4.4,0-9.2,1.9-9.2,6.8c0,10.9,39,9,39,36.4c0,14.4-11,26.9-30.5,26.9 c-20.4,0-31.6-12.4-31.6-12.4L537.3,224.7z"}),(0,i.jsx)("path",{className:"tl-hl-st1",d:"M620.6,183.3h-26.3v-18.2h73.8v18.2h-26.3v68.5h-21.2V183.3z"}),(0,i.jsx)("path",{className:"tl-hl-st1",d:"M680,165.1h54.3v18.2h-33.1V199h26.4v18.2h-26.4v16.4H736v18.2h-56V165.1z"}),(0,i.jsx)("path",{className:"tl-hl-st1",d:"M752.5,165.1h30.8c27.3,0,44.7,15.9,44.7,43.1s-17.4,43.5-44.7,43.5h-30.8V165.1z M782.4,233.6 c14.7,0,23.6-8.7,23.6-25.3c0-16.5-9.3-25-23.6-25h-8.7v50.3H782.4z"}),(0,i.jsx)("path",{className:"tl-hl-st0",d:"M850.4,166.2h12v75.1h38.3v10.4h-50.3V166.2z"}),(0,i.jsx)("path",{className:"tl-hl-st0",d:"M950,164.7c24.7,0,43.9,19,43.9,43.6c0,25.2-19.1,44.8-43.9,44.8s-44-19.6-44-44.8 C906,183.8,925.3,164.7,950,164.7z M950,242.2c17.4,0,31.5-14.5,31.5-33.8c0-18.7-14.1-32.7-31.5-32.7s-31.6,14.1-31.6,32.7 C918.4,227.6,932.5,242.2,950,242.2z"}),(0,i.jsx)("path",{className:"tl-hl-st0",d:"M1050.4,164.7c20.5,0,31.1,10.3,31.1,10.3l-6.1,9c0,0-9.6-8.4-24.1-8.4c-20.1,0-32.2,14.7-32.2,33 c0,19.9,13.6,33.6,31.5,33.6c14.8,0,24.2-10.7,24.2-10.7v-12.4H1061v-10.4h24.8v43h-10.5v-5.3c0-1.8,0.1-3.6,0.1-3.6h-0.2 c0,0-9.3,10.4-26.3,10.4c-23,0-42-18.2-42-44.3C1006.8,184.1,1025.5,164.7,1050.4,164.7z"}),(0,i.jsx)("path",{className:"tl-hl-st0",d:"M1105.8,166.2h12v85.5h-12V166.2z"}),(0,i.jsx)("path",{className:"tl-hl-st0",d:"M1142.3,166.2h11.9l38,55.6c3.2,4.6,7.1,12.4,7.1,12.4h0.2c0,0-0.8-7.6-0.8-12.4v-55.6h12v85.5H1199 l-38.2-55.5c-3.2-4.7-7.1-12.5-7.1-12.5h-0.2c0,0,0.8,7.6,0.8,12.5v55.5h-12V166.2z"})]})]})}),y=window.ReactDOM;var C=Object.defineProperty,w=(e,t,n)=>(((e,t,n)=>{t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let j=new class{constructor(){w(this,"current",this.detect()),w(this,"handoffState","pending"),w(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},k=(t,n)=>{j.isServer?(0,e.useEffect)(t,n):(0,e.useLayoutEffect)(t,n)};function S(t){let n=(0,e.useRef)(t);return k((()=>{n.current=t}),[t]),n}let N=function(t){let n=S(t);return e.useCallback(((...e)=>n.current(...e)),[n])};function _(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}function E(t){let n=N(t),r=(0,e.useRef)(!1);(0,e.useEffect)((()=>(r.current=!1,()=>{r.current=!0,_((()=>{r.current&&n()}))})),[n])}function L(e){return j.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function O(...t){return(0,e.useMemo)((()=>L(...t)),[...t])}function T(){let n=function(){let e="undefined"==typeof document;return"useSyncExternalStore"in t&&t.useSyncExternalStore((()=>()=>{}),(()=>!1),(()=>!e))}(),[r,s]=e.useState(j.isHandoffComplete);return r&&!1===j.isHandoffComplete&&s(!1),e.useEffect((()=>{!0!==r&&s(!0)}),[r]),e.useEffect((()=>j.handoff()),[]),!n&&r}let F=Symbol();function M(e,t=!0){return Object.assign(e,{[F]:t})}function P(...t){let n=(0,e.useRef)(t);(0,e.useEffect)((()=>{n.current=t}),[t]);let r=N((e=>{for(let t of n.current)null!=t&&("function"==typeof t?t(e):t.current=e)}));return t.every((e=>null==e||(null==e?void 0:e[F])))?void 0:r}let D=(0,e.createContext)(!1);function V(){return(0,e.useContext)(D)}function I(t){return e.createElement(D.Provider,{value:t.force},t.children)}function A(...e){return Array.from(new Set(e.flatMap((e=>"string"==typeof e?e.split(" "):[])))).filter(Boolean).join(" ")}function B(e,t,...n){if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,B),r}var R=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(R||{}),H=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(H||{});function W({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:l=!0,name:i,mergeRefs:o}){o=null!=o?o:$;let a=K(t,e);if(l)return z(a,n,r,i,o);let c=null!=s?s:0;if(2&c){let{static:e=!1,...t}=a;if(e)return z(t,n,r,i,o)}if(1&c){let{unmount:e=!0,...t}=a;return B(e?0:1,{0:()=>null,1:()=>z({...t,hidden:!0,style:{display:"none"}},n,r,i,o)})}return z(a,n,r,i,o)}function z(t,n={},r,s,l){let{as:i=r,children:o,refName:a="ref",...c}=q(t,["unmount","static"]),d=void 0!==t.ref?{[a]:t.ref}:{},u="function"==typeof o?o(n):o;"className"in c&&c.className&&"function"==typeof c.className&&(c.className=c.className(n));let p={};if(n){let e=!1,t=[];for(let[r,s]of Object.entries(n))"boolean"==typeof s&&(e=!0),!0===s&&t.push(r);e&&(p["data-headlessui-state"]=t.join(" "))}if(i===e.Fragment&&Object.keys(U(c)).length>0){if(!(0,e.isValidElement)(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));let t=u.props,n="function"==typeof(null==t?void 0:t.className)?(...e)=>A(null==t?void 0:t.className(...e),c.className):A(null==t?void 0:t.className,c.className),r=n?{className:n}:{};return(0,e.cloneElement)(u,Object.assign({},K(u.props,U(q(c,["ref"]))),p,d,{ref:l(u.ref,d.ref)},r))}return(0,e.createElement)(i,Object.assign({},q(c,["ref"]),i!==e.Fragment&&d,i!==e.Fragment&&p),u)}function $(...e){return e.every((e=>null==e))?void 0:t=>{for(let n of e)null!=n&&("function"==typeof n?n(t):n.current=t)}}function K(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map((e=>[e,void 0]))));for(let e in n)Object.assign(t,{[e](t,...r){let s=n[e];for(let e of s){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;e(t,...r)}}});return t}function Z(t){var n;return Object.assign((0,e.forwardRef)(t),{displayName:null!=(n=t.displayName)?n:t.name})}function U(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function q(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}let G=e.Fragment,Y=e.Fragment,J=(0,e.createContext)(null),X=(0,e.createContext)(null);function Q(){let t=(0,e.useContext)(X),n=(0,e.useRef)([]),r=N((e=>(n.current.push(e),t&&t.register(e),()=>s(e)))),s=N((e=>{let r=n.current.indexOf(e);-1!==r&&n.current.splice(r,1),t&&t.unregister(e)})),l=(0,e.useMemo)((()=>({register:r,unregister:s,portals:n})),[r,s,n]);return[n,(0,e.useMemo)((()=>function({children:t}){return e.createElement(X.Provider,{value:l},t)}),[l])]}let ee=Z((function(t,n){let r=t,s=(0,e.useRef)(null),l=P(M((e=>{s.current=e})),n),i=O(s),o=function(t){let n=V(),r=(0,e.useContext)(J),s=O(t),[l,i]=(0,e.useState)((()=>{if(!n&&null!==r||j.isServer)return null;let e=null==s?void 0:s.getElementById("headlessui-portal-root");if(e)return e;if(null===s)return null;let t=s.createElement("div");return t.setAttribute("id","headlessui-portal-root"),s.body.appendChild(t)}));return(0,e.useEffect)((()=>{null!==l&&(null!=s&&s.body.contains(l)||null==s||s.body.appendChild(l))}),[l,s]),(0,e.useEffect)((()=>{n||null!==r&&i(r.current)}),[r,i,n]),l}(s),[a]=(0,e.useState)((()=>{var e;return j.isServer?null:null!=(e=null==i?void 0:i.createElement("div"))?e:null})),c=(0,e.useContext)(X),d=T();return k((()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))}),[o,a]),k((()=>{if(a&&c)return c.register(a)}),[c,a]),E((()=>{var e;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&(null==(e=o.parentElement)||e.removeChild(o)))})),d&&o&&a?(0,y.createPortal)(W({ourProps:{ref:l},theirProps:r,defaultTag:G,name:"Portal"}),a):null})),te=Z((function(t,n){let{target:r,...s}=t,l={ref:P(n)};return e.createElement(J.Provider,{value:r},W({ourProps:l,theirProps:s,defaultTag:Y,name:"Popover.Group"}))})),ne=Object.assign(ee,{Group:te});function re(t,n,r,s){let l=S(r);(0,e.useEffect)((()=>{function e(e){l.current(e)}return(t=null!=t?t:window).addEventListener(n,e,s),()=>t.removeEventListener(n,e,s)}),[t,n,s])}var se;let le=null!=(se=e.useId)?se:function(){let t=T(),[n,r]=e.useState(t?()=>j.nextId():null);return k((()=>{null===n&&r(j.nextId())}),[n]),null!=n?""+n:void 0},ie=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var oe,ae=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(ae||{}),ce=((oe=ce||{})[oe.Error=0]="Error",oe[oe.Overflow=1]="Overflow",oe[oe.Success=2]="Success",oe[oe.Underflow=3]="Underflow",oe),de=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(de||{});function ue(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(ie)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}var pe=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(pe||{});function me(e,t=0){var n;return e!==(null==(n=L(e))?void 0:n.body)&&B(t,{0:()=>e.matches(ie),1(){let t=e;for(;null!==t;){if(t.matches(ie))return!0;t=t.parentElement}return!1}})}var he=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(he||{});function fe(e){null==e||e.focus({preventScroll:!0})}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",(e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")}),!0),document.addEventListener("click",(e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")}),!0));let ge=["textarea","input"].join(",");function xe(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,i=Array.isArray(e)?n?function(e,t=e=>e){return e.slice().sort(((e,n)=>{let r=t(e),s=t(n);if(null===r||null===s)return 0;let l=r.compareDocumentPosition(s);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}(e):e:ue(e);s.length>0&&i.length>1&&(i=i.filter((e=>!s.includes(e)))),r=null!=r?r:l.activeElement;let o,a=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,i.indexOf(r))-1;if(4&t)return Math.max(0,i.indexOf(r))+1;if(8&t)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=32&t?{preventScroll:!0}:{},u=0,p=i.length;do{if(u>=p||u+p<=0)return 0;let e=c+u;if(16&t)e=(e+p)%p;else{if(e<0)return 3;if(e>=p)return 1}o=i[e],null==o||o.focus(d),u+=a}while(o!==l.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,ge))&&n}(o)&&o.select(),2}function ve(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function be(t,n,r){let s=S(n);(0,e.useEffect)((()=>{function e(e){s.current(e)}return document.addEventListener(t,e,r),()=>document.removeEventListener(t,e,r)}),[t,r])}function ye(t,n,r){let s=S(n);(0,e.useEffect)((()=>{function e(e){s.current(e)}return window.addEventListener(t,e,r),()=>window.removeEventListener(t,e,r)}),[t,r])}function Ce(t,n,r=!0){let s=(0,e.useRef)(!1);function l(e,r){if(!s.current||e.defaultPrevented)return;let l=r(e);if(null===l||!l.getRootNode().contains(l)||!l.isConnected)return;let i=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(t);for(let t of i){if(null===t)continue;let n=t instanceof HTMLElement?t:t.current;if(null!=n&&n.contains(l)||e.composed&&e.composedPath().includes(n))return}return!me(l,pe.Loose)&&-1!==l.tabIndex&&e.preventDefault(),n(e,l)}(0,e.useEffect)((()=>{requestAnimationFrame((()=>{s.current=r}))}),[r]);let i=(0,e.useRef)(null);be("pointerdown",(e=>{var t,n;s.current&&(i.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),be("mousedown",(e=>{var t,n;s.current&&(i.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),be("click",(e=>{ve()||/Android/gi.test(window.navigator.userAgent)||i.current&&(l(e,(()=>i.current)),i.current=null)}),!0),be("touchend",(e=>l(e,(()=>e.target instanceof HTMLElement?e.target:null))),!0),ye("blur",(e=>l(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}function we(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}var je=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(je||{});let ke=Z((function(e,t){var n;let{features:r=1,...s}=e;return W({ourProps:{ref:t,"aria-hidden":!(2&~r)||(null!=(n=s["aria-hidden"])?n:void 0),hidden:!(4&~r)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...!(4&~r)&&!!(2&~r)&&{display:"none"}}},theirProps:s,slot:{},defaultTag:"div",name:"Hidden"})}));function Se({defaultContainers:t=[],portals:n,mainTreeNodeRef:r}={}){var s;let l=(0,e.useRef)(null!=(s=null==r?void 0:r.current)?s:null),i=O(l),o=N((()=>{var e,r,s;let o=[];for(let e of t)null!==e&&(e instanceof HTMLElement?o.push(e):"current"in e&&e.current instanceof HTMLElement&&o.push(e.current));if(null!=n&&n.current)for(let e of n.current)o.push(e);for(let t of null!=(e=null==i?void 0:i.querySelectorAll("html > *, body > *"))?e:[])t!==document.body&&t!==document.head&&t instanceof HTMLElement&&"headlessui-portal-root"!==t.id&&(t.contains(l.current)||t.contains(null==(s=null==(r=l.current)?void 0:r.getRootNode())?void 0:s.host)||o.some((e=>t.contains(e)))||o.push(t));return o}));return{resolveContainers:o,contains:N((e=>o().some((t=>t.contains(e))))),mainTreeNodeRef:l,MainTreeNode:(0,e.useMemo)((()=>function(){return null!=r?null:e.createElement(ke,{features:je.Hidden,ref:l})}),[l,r])}}var Ne=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ne||{});function _e(){let t=(0,e.useRef)(0);return ye("keydown",(e=>{"Tab"===e.key&&(t.current=e.shiftKey?1:0)}),!0),t}let Ee=(0,e.createContext)(null);Ee.displayName="OpenClosedContext";var Le=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Le||{});function Oe(){return(0,e.useContext)(Ee)}function Te({value:t,children:n}){return e.createElement(Ee.Provider,{value:t},n)}function Fe(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}var Me=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Me||{}),Pe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Pe||{}),De=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(De||{});let Ve={0:e=>{let t={...e,popoverState:B(e.popoverState,{0:1,1:0})};return 0===t.popoverState&&(t.__demoMode=!1),t},1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},Ie=(0,e.createContext)(null);function Ae(t){let n=(0,e.useContext)(Ie);if(null===n){let e=new Error(`<${t} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,Ae),e}return n}Ie.displayName="PopoverContext";let Be=(0,e.createContext)(null);function Re(t){let n=(0,e.useContext)(Be);if(null===n){let e=new Error(`<${t} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,Re),e}return n}Be.displayName="PopoverAPIContext";let He=(0,e.createContext)(null);function We(){return(0,e.useContext)(He)}He.displayName="PopoverGroupContext";let ze=(0,e.createContext)(null);function $e(e,t){return B(t.type,Ve,e,t)}ze.displayName="PopoverPanelContext";let Ke=R.RenderStrategy|R.Static,Ze=R.RenderStrategy|R.Static,Ue=Z((function(t,n){var r;let{__demoMode:s=!1,...l}=t,i=(0,e.useRef)(null),o=P(n,M((e=>{i.current=e}))),a=(0,e.useRef)([]),c=(0,e.useReducer)($e,{__demoMode:s,popoverState:s?0:1,buttons:a,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,e.createRef)(),afterPanelSentinel:(0,e.createRef)()}),[{popoverState:d,button:u,buttonId:p,panel:m,panelId:h,beforePanelSentinel:f,afterPanelSentinel:g},x]=c,v=O(null!=(r=i.current)?r:u),b=(0,e.useMemo)((()=>{if(!u||!m)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(u))^Number(null==e?void 0:e.contains(m)))return!0;let e=ue(),t=e.indexOf(u),n=(t+e.length-1)%e.length,r=(t+1)%e.length,s=e[n],l=e[r];return!m.contains(s)&&!m.contains(l)}),[u,m]),y=S(p),C=S(h),w=(0,e.useMemo)((()=>({buttonId:y,panelId:C,close:()=>x({type:1})})),[y,C,x]),j=We(),k=null==j?void 0:j.registerPopover,_=N((()=>{var e;return null!=(e=null==j?void 0:j.isFocusWithinPopoverGroup())?e:(null==v?void 0:v.activeElement)&&((null==u?void 0:u.contains(v.activeElement))||(null==m?void 0:m.contains(v.activeElement)))}));(0,e.useEffect)((()=>null==k?void 0:k(w)),[k,w]);let[E,L]=Q(),T=Se({mainTreeNodeRef:null==j?void 0:j.mainTreeNodeRef,portals:E,defaultContainers:[u,m]});re(null==v?void 0:v.defaultView,"focus",(e=>{var t,n,r,s;e.target!==window&&e.target instanceof HTMLElement&&0===d&&(_()||u&&m&&(T.contains(e.target)||null!=(n=null==(t=f.current)?void 0:t.contains)&&n.call(t,e.target)||null!=(s=null==(r=g.current)?void 0:r.contains)&&s.call(r,e.target)||x({type:1})))}),!0),Ce(T.resolveContainers,((e,t)=>{x({type:1}),me(t,pe.Loose)||(e.preventDefault(),null==u||u.focus())}),0===d);let F=N((e=>{x({type:1});let t=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:u:u;null==t||t.focus()})),D=(0,e.useMemo)((()=>({close:F,isPortalled:b})),[F,b]),V=(0,e.useMemo)((()=>({open:0===d,close:F})),[d,F]),I={ref:o};return e.createElement(ze.Provider,{value:null},e.createElement(Ie.Provider,{value:c},e.createElement(Be.Provider,{value:D},e.createElement(Te,{value:B(d,{0:Le.Open,1:Le.Closed})},e.createElement(L,null,W({ourProps:I,theirProps:l,slot:V,defaultTag:"div",name:"Popover"}),e.createElement(T.MainTreeNode,null))))))})),qe=Z((function(t,n){let r=le(),{id:s=`headlessui-popover-button-${r}`,...l}=t,[i,o]=Ae("Popover.Button"),{isPortalled:a}=Re("Popover.Button"),c=(0,e.useRef)(null),d=`headlessui-focus-sentinel-${le()}`,u=We(),p=null==u?void 0:u.closeOthers,m=null!==(0,e.useContext)(ze);(0,e.useEffect)((()=>{if(!m)return o({type:3,buttonId:s}),()=>{o({type:3,buttonId:null})}}),[m,s,o]);let[h]=(0,e.useState)((()=>Symbol())),f=P(c,n,m?null:e=>{if(e)i.buttons.current.push(h);else{let e=i.buttons.current.indexOf(h);-1!==e&&i.buttons.current.splice(e,1)}i.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&o({type:2,button:e})}),g=P(c,n),x=O(c),v=N((e=>{var t,n,r;if(m){if(1===i.popoverState)return;switch(e.key){case Me.Space:case Me.Enter:e.preventDefault(),null==(n=(t=e.target).click)||n.call(t),o({type:1}),null==(r=i.button)||r.focus()}}else switch(e.key){case Me.Space:case Me.Enter:e.preventDefault(),e.stopPropagation(),1===i.popoverState&&(null==p||p(i.buttonId)),o({type:0});break;case Me.Escape:if(0!==i.popoverState)return null==p?void 0:p(i.buttonId);if(!c.current||null!=x&&x.activeElement&&!c.current.contains(x.activeElement))return;e.preventDefault(),e.stopPropagation(),o({type:1})}})),b=N((e=>{m||e.key===Me.Space&&e.preventDefault()})),y=N((e=>{var n,r;Fe(e.currentTarget)||t.disabled||(m?(o({type:1}),null==(n=i.button)||n.focus()):(e.preventDefault(),e.stopPropagation(),1===i.popoverState&&(null==p||p(i.buttonId)),o({type:0}),null==(r=i.button)||r.focus()))})),C=N((e=>{e.preventDefault(),e.stopPropagation()})),w=0===i.popoverState,j=(0,e.useMemo)((()=>({open:w})),[w]),S=function(t,n){let[r,s]=(0,e.useState)((()=>we(t)));return k((()=>{s(we(t))}),[t.type,t.as]),k((()=>{r||n.current&&n.current instanceof HTMLButtonElement&&!n.current.hasAttribute("type")&&s("button")}),[r,n]),r}(t,c),_=m?{ref:g,type:S,onKeyDown:v,onClick:y}:{ref:f,id:i.buttonId,type:S,"aria-expanded":0===i.popoverState,"aria-controls":i.panel?i.panelId:void 0,onKeyDown:v,onKeyUp:b,onClick:y,onMouseDown:C},E=_e(),L=N((()=>{let e=i.panel;e&&B(E.current,{[Ne.Forwards]:()=>xe(e,ae.First),[Ne.Backwards]:()=>xe(e,ae.Last)})===ce.Error&&xe(ue().filter((e=>"true"!==e.dataset.headlessuiFocusGuard)),B(E.current,{[Ne.Forwards]:ae.Next,[Ne.Backwards]:ae.Previous}),{relativeTo:i.button})}));return e.createElement(e.Fragment,null,W({ourProps:_,theirProps:l,slot:j,defaultTag:"button",name:"Popover.Button"}),w&&!m&&a&&e.createElement(ke,{id:d,features:je.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:L}))})),Ge=Z((function(t,n){let r=le(),{id:s=`headlessui-popover-overlay-${r}`,...l}=t,[{popoverState:i},o]=Ae("Popover.Overlay"),a=P(n),c=Oe(),d=null!==c?(c&Le.Open)===Le.Open:0===i;return W({ourProps:{ref:a,id:s,"aria-hidden":!0,onClick:N((e=>{if(Fe(e.currentTarget))return e.preventDefault();o({type:1})}))},theirProps:l,slot:(0,e.useMemo)((()=>({open:0===i})),[i]),defaultTag:"div",features:Ke,visible:d,name:"Popover.Overlay"})})),Ye=Z((function(t,n){let r=le(),{id:s=`headlessui-popover-panel-${r}`,focus:l=!1,...i}=t,[o,a]=Ae("Popover.Panel"),{close:c,isPortalled:d}=Re("Popover.Panel"),u=`headlessui-focus-sentinel-before-${le()}`,p=`headlessui-focus-sentinel-after-${le()}`,m=(0,e.useRef)(null),h=P(m,n,(e=>{a({type:4,panel:e})})),f=O(m),g=function(){let t=(0,e.useRef)([]),n=(0,e.useCallback)((e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)}),[]);return(...e)=>{if(!e.every((e=>null==e)))return t.current=e,n}}();k((()=>(a({type:5,panelId:s}),()=>{a({type:5,panelId:null})})),[s,a]);let x=Oe(),v=null!==x?(x&Le.Open)===Le.Open:0===o.popoverState,b=N((e=>{var t;if(e.key===Me.Escape){if(0!==o.popoverState||!m.current||null!=f&&f.activeElement&&!m.current.contains(f.activeElement))return;e.preventDefault(),e.stopPropagation(),a({type:1}),null==(t=o.button)||t.focus()}}));(0,e.useEffect)((()=>{var e;t.static||1===o.popoverState&&(null==(e=t.unmount)||e)&&a({type:4,panel:null})}),[o.popoverState,t.unmount,t.static,a]),(0,e.useEffect)((()=>{if(o.__demoMode||!l||0!==o.popoverState||!m.current)return;let e=null==f?void 0:f.activeElement;m.current.contains(e)||xe(m.current,ae.First)}),[o.__demoMode,l,m,o.popoverState]);let y=(0,e.useMemo)((()=>({open:0===o.popoverState,close:c})),[o,c]),C={ref:h,id:s,onKeyDown:b,onBlur:l&&0===o.popoverState?e=>{var t,n,r,s,l;let i=e.relatedTarget;i&&m.current&&(null!=(t=m.current)&&t.contains(i)||(a({type:1}),(null!=(r=null==(n=o.beforePanelSentinel.current)?void 0:n.contains)&&r.call(n,i)||null!=(l=null==(s=o.afterPanelSentinel.current)?void 0:s.contains)&&l.call(s,i))&&i.focus({preventScroll:!0})))}:void 0,tabIndex:-1},w=_e(),j=N((()=>{let e=m.current;e&&B(w.current,{[Ne.Forwards]:()=>{var t;xe(e,ae.First)===ce.Error&&(null==(t=o.afterPanelSentinel.current)||t.focus())},[Ne.Backwards]:()=>{var e;null==(e=o.button)||e.focus({preventScroll:!0})}})})),S=N((()=>{let e=m.current;e&&B(w.current,{[Ne.Forwards]:()=>{var e;if(!o.button)return;let t=ue(),n=t.indexOf(o.button),r=t.slice(0,n+1),s=[...t.slice(n+1),...r];for(let t of s.slice())if("true"===t.dataset.headlessuiFocusGuard||null!=(e=o.panel)&&e.contains(t)){let e=s.indexOf(t);-1!==e&&s.splice(e,1)}xe(s,ae.First,{sorted:!1})},[Ne.Backwards]:()=>{var t;xe(e,ae.Previous)===ce.Error&&(null==(t=o.button)||t.focus())}})}));return e.createElement(ze.Provider,{value:s},v&&d&&e.createElement(ke,{id:u,ref:o.beforePanelSentinel,features:je.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:j}),W({mergeRefs:g,ourProps:C,theirProps:i,slot:y,defaultTag:"div",features:Ze,visible:v,name:"Popover.Panel"}),v&&d&&e.createElement(ke,{id:p,ref:o.afterPanelSentinel,features:je.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:S}))})),Je=Z((function(t,n){let r=(0,e.useRef)(null),s=P(r,n),[l,i]=(0,e.useState)([]),o=function(){let t=(0,e.useRef)(null);return{mainTreeNodeRef:t,MainTreeNode:(0,e.useMemo)((()=>function(){return e.createElement(ke,{features:je.Hidden,ref:t})}),[t])}}(),a=N((e=>{i((t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t}))})),c=N((e=>(i((t=>[...t,e])),()=>a(e)))),d=N((()=>{var e;let t=L(r);if(!t)return!1;let n=t.activeElement;return!(null==(e=r.current)||!e.contains(n))||l.some((e=>{var r,s;return(null==(r=t.getElementById(e.buttonId.current))?void 0:r.contains(n))||(null==(s=t.getElementById(e.panelId.current))?void 0:s.contains(n))}))})),u=N((e=>{for(let t of l)t.buttonId.current!==e&&t.close()})),p=(0,e.useMemo)((()=>({registerPopover:c,unregisterPopover:a,isFocusWithinPopoverGroup:d,closeOthers:u,mainTreeNodeRef:o.mainTreeNodeRef})),[c,a,d,u,o.mainTreeNodeRef]),m=(0,e.useMemo)((()=>({})),[]),h=t,f={ref:s};return e.createElement(He.Provider,{value:p},W({ourProps:f,theirProps:h,slot:m,defaultTag:"div",name:"Popover.Group"}),e.createElement(o.MainTreeNode,null))})),Xe=Object.assign(Ue,{Button:qe,Overlay:Ge,Panel:Ye,Group:Je});const Qe=({team:e,toggleStatus:t})=>{const{setCurrentView:n,setCurrentTeam:s}=m(),l=r=>{r.preventDefault(),s(e.id),n("teams/edit"),t()};return(0,i.jsxs)("li",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)("div",{className:"flex-shrink-0 flex items-center justify-center h-8 w-8 bg-purple-600 text-white text-sm font-medium rounded-lg",children:"FI"}),(0,i.jsx)("div",{className:"flex flex-col max-w-[10rem] sm:max-w-[8rem] md:max-w-none",children:(0,i.jsx)("p",{className:"text-sm font-medium text-gray-900 min-w-[6rem]",id:"team-option-1-label",children:e.name?e.name:(0,r._x)("Team {id}","{id} is replaced dynamically; do not translate","trustedlogin-connector").replace("{id}",e.id)})})]}),e.connected?(0,i.jsxs)("button",{onClick:l,className:"inline-flex items-center px-2.5 py-1.5 h-7 rounded-full text-xs font-medium border text-gray-900 focus:outline-none focus:ring-2 ring-offset-2 focus:ring-sky-500",children:[(0,i.jsx)("svg",{className:"-ml-0.5 mr-1.5 h-2 w-2 text-green-600",fill:"currentColor",viewBox:"0 0 8 8",children:(0,i.jsx)("circle",{cx:"4",cy:"4",r:"3"})}),(0,i.jsx)("span",{className:"border-r pr-2 mr-2 leading-none",children:(0,r.__)("Connected","trustedlogin-connector")}),(0,i.jsx)("svg",{className:"text-gray-500",width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M11.555 5.50001L10.069 5.33501C9.98026 5.02416 9.85612 4.72453 9.69901 4.44201L10.633 3.27401C10.7099 3.1779 10.7486 3.05682 10.7418 2.93394C10.735 2.81106 10.6831 2.69501 10.596 2.60801L9.88901 1.90001C9.80201 1.81296 9.68596 1.76105 9.56308 1.75422C9.4402 1.7474 9.31911 1.78613 9.22301 1.86301L8.05501 2.80001C7.77249 2.6429 7.47286 2.51876 7.16201 2.43001L7.00001 0.945009C6.98641 0.82215 6.92779 0.70868 6.83546 0.626501C6.74312 0.544323 6.62362 0.499259 6.50001 0.500009H5.50001C5.3764 0.499259 5.2569 0.544323 5.16456 0.626501C5.07223 0.70868 5.0136 0.82215 5.00001 0.945009L4.83801 2.43101C4.52716 2.51976 4.22753 2.6439 3.94501 2.80101L2.77701 1.86701C2.6809 1.79013 2.55982 1.7514 2.43694 1.75822C2.31406 1.76505 2.19801 1.81696 2.11101 1.90401L1.40001 2.61101C1.31296 2.69801 1.26105 2.81406 1.25422 2.93694C1.2474 3.05982 1.28613 3.1809 1.36301 3.27701L2.30001 4.44501C2.1429 4.72753 2.01876 5.02716 1.93001 5.33801L0.445009 5.50001C0.32215 5.5136 0.20868 5.57223 0.126501 5.66456C0.0443225 5.7569 -0.000740652 5.8764 9.21001e-06 6.00001V7.00001C-0.000740652 7.12362 0.0443225 7.24312 0.126501 7.33546C0.20868 7.42779 0.32215 7.48641 0.445009 7.50001L1.93101 7.66501C2.01976 7.97586 2.1439 8.27549 2.30101 8.55801L1.36701 9.72301C1.29013 9.81911 1.2514 9.9402 1.25822 10.0631C1.26505 10.186 1.31696 10.302 1.40401 10.389L2.11101 11.096C2.19801 11.1831 2.31406 11.235 2.43694 11.2418C2.55982 11.2486 2.6809 11.2099 2.77701 11.133L3.94501 10.2C4.22753 10.3571 4.52716 10.4813 4.83801 10.57L5.00001 12.055C5.0136 12.1779 5.07223 12.2913 5.16456 12.3735C5.2569 12.4557 5.3764 12.5008 5.50001 12.5H6.50001C6.62362 12.5008 6.74312 12.4557 6.83546 12.3735C6.92779 12.2913 6.98641 12.1779 7.00001 12.055L7.16501 10.569C7.47586 10.4803 7.77549 10.3561 8.05801 10.199L9.22601 11.133C9.32211 11.2099 9.4432 11.2486 9.56608 11.2418C9.68896 11.235 9.80501 11.1831 9.89201 11.096L10.599 10.389C10.6861 10.302 10.738 10.186 10.7448 10.0631C10.7516 9.9402 10.7129 9.81911 10.636 9.72301L9.70001 8.55501C9.85712 8.27249 9.98126 7.97286 10.07 7.66201L11.555 7.50001C11.6779 7.48641 11.7913 7.42779 11.8735 7.33546C11.9557 7.24312 12.0008 7.12362 12 7.00001V6.00001C12.0008 5.8764 11.9557 5.7569 11.8735 5.66456C11.7913 5.57223 11.6779 5.5136 11.555 5.50001ZM6.00001 8.50001C5.60445 8.50001 5.21777 8.38271 4.88887 8.16295C4.55997 7.94319 4.30363 7.63083 4.15225 7.26538C4.00087 6.89992 3.96127 6.49779 4.03844 6.10983C4.11561 5.72187 4.30609 5.3655 4.5858 5.0858C4.8655 4.80609 5.22187 4.61561 5.60983 4.53844C5.99779 4.46127 6.39992 4.50087 6.76538 4.65225C7.13083 4.80363 7.44319 5.05997 7.66295 5.38887C7.88271 5.71777 8.00001 6.10445 8.00001 6.50001C8.00001 7.03044 7.7893 7.53915 7.41422 7.91422C7.03915 8.2893 6.53044 8.50001 6.00001 8.50001Z",fill:"currentColor"})})]}):(0,i.jsxs)("button",{onClick:l,className:"inline-flex items-center px-2.5 py-1.5 h-7 rounded-full text-xs font-medium border text-gray-900 focus:outline-none focus:ring-2 ring-offset-2 focus:ring-sky-500",children:[(0,i.jsx)("svg",{className:"-ml-0.5 mr-1.5 h-2 w-2 text-red-700",fill:"currentColor",viewBox:"0 0 8 8",children:(0,i.jsx)("circle",{cx:"4",cy:"4",r:"3"})}),(0,i.jsx)("span",{className:"border-r pr-2 mr-2 leading-none",children:(0,r.__)("Not Connected","trustedlogin-connector")}),(0,i.jsx)("svg",{className:"text-gray-500",width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M11.555 5.50001L10.069 5.33501C9.98026 5.02416 9.85612 4.72453 9.69901 4.44201L10.633 3.27401C10.7099 3.1779 10.7486 3.05682 10.7418 2.93394C10.735 2.81106 10.6831 2.69501 10.596 2.60801L9.88901 1.90001C9.80201 1.81296 9.68596 1.76105 9.56308 1.75422C9.4402 1.7474 9.31911 1.78613 9.22301 1.86301L8.05501 2.80001C7.77249 2.6429 7.47286 2.51876 7.16201 2.43001L7.00001 0.945009C6.98641 0.82215 6.92779 0.70868 6.83546 0.626501C6.74312 0.544323 6.62362 0.499259 6.50001 0.500009H5.50001C5.3764 0.499259 5.2569 0.544323 5.16456 0.626501C5.07223 0.70868 5.0136 0.82215 5.00001 0.945009L4.83801 2.43101C4.52716 2.51976 4.22753 2.6439 3.94501 2.80101L2.77701 1.86701C2.6809 1.79013 2.55982 1.7514 2.43694 1.75822C2.31406 1.76505 2.19801 1.81696 2.11101 1.90401L1.40001 2.61101C1.31296 2.69801 1.26105 2.81406 1.25422 2.93694C1.2474 3.05982 1.28613 3.1809 1.36301 3.27701L2.30001 4.44501C2.1429 4.72753 2.01876 5.02716 1.93001 5.33801L0.445009 5.50001C0.32215 5.5136 0.20868 5.57223 0.126501 5.66456C0.0443225 5.7569 -0.000740652 5.8764 9.21001e-06 6.00001V7.00001C-0.000740652 7.12362 0.0443225 7.24312 0.126501 7.33546C0.20868 7.42779 0.32215 7.48641 0.445009 7.50001L1.93101 7.66501C2.01976 7.97586 2.1439 8.27549 2.30101 8.55801L1.36701 9.72301C1.29013 9.81911 1.2514 9.9402 1.25822 10.0631C1.26505 10.186 1.31696 10.302 1.40401 10.389L2.11101 11.096C2.19801 11.1831 2.31406 11.235 2.43694 11.2418C2.55982 11.2486 2.6809 11.2099 2.77701 11.133L3.94501 10.2C4.22753 10.3571 4.52716 10.4813 4.83801 10.57L5.00001 12.055C5.0136 12.1779 5.07223 12.2913 5.16456 12.3735C5.2569 12.4557 5.3764 12.5008 5.50001 12.5H6.50001C6.62362 12.5008 6.74312 12.4557 6.83546 12.3735C6.92779 12.2913 6.98641 12.1779 7.00001 12.055L7.16501 10.569C7.47586 10.4803 7.77549 10.3561 8.05801 10.199L9.22601 11.133C9.32211 11.2099 9.4432 11.2486 9.56608 11.2418C9.68896 11.235 9.80501 11.1831 9.89201 11.096L10.599 10.389C10.6861 10.302 10.738 10.186 10.7448 10.0631C10.7516 9.9402 10.7129 9.81911 10.636 9.72301L9.70001 8.55501C9.85712 8.27249 9.98126 7.97286 10.07 7.66201L11.555 7.50001C11.6779 7.48641 11.7913 7.42779 11.8735 7.33546C11.9557 7.24312 12.0008 7.12362 12 7.00001V6.00001C12.0008 5.8764 11.9557 5.7569 11.8735 5.66456C11.7913 5.57223 11.6779 5.5136 11.555 5.50001ZM6.00001 8.50001C5.60445 8.50001 5.21777 8.38271 4.88887 8.16295C4.55997 7.94319 4.30363 7.63083 4.15225 7.26538C4.00087 6.89992 3.96127 6.49779 4.03844 6.10983C4.11561 5.72187 4.30609 5.3655 4.5858 5.0858C4.8655 4.80609 5.22187 4.61561 5.60983 4.53844C5.99779 4.46127 6.39992 4.50087 6.76538 4.65225C7.13083 4.80363 7.44319 5.05997 7.66295 5.38887C7.88271 5.71777 8.00001 6.10445 8.00001 6.50001C8.00001 7.03044 7.7893 7.53915 7.41422 7.91422C7.03915 8.2893 6.53044 8.50001 6.00001 8.50001Z",fill:"currentColor"})})]})]})},et=({toggleStatus:t})=>{const{totalTeams:n,teamsConnected:s}=(()=>{const{settings:t}=d(),n=(0,e.useMemo)((()=>{let e=0;return t&&t.teams&&t.teams.forEach((t=>{t.connected&&e++})),e}),[t]);return{totalTeams:(0,e.useMemo)((()=>t&&t.teams?t.teams.length:0),[t]),teamsConnected:n}})();return s===n?(0,i.jsxs)(Xe.Button,{onClick:t,className:"inline-flex items-center pl-2.5 pr-3 h-10 border border-gray-300 text-sm leading-4 rounded-lg text-gray-500 bg-white :outline-none ring-4 ring-blue-100",children:[(0,i.jsxs)("svg",{className:"mr-1",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("circle",{cx:"10",cy:"10",r:"8",stroke:"#119A27",strokeWidth:"2"}),(0,i.jsx)("path",{d:"M13.2857 8L9.09521 12L7 10",stroke:"#119A27",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,i.jsx)("span",{className:"hidden sm:inline-flex",children:(0,i.jsx)("span",{className:"mx-1 text-gray-900 font-medium",children:(0,r.__)("All teams connected","trustedlogin-connector")})}),(0,i.jsx)("svg",{className:"hidden sm:inline-flex ml-3",width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M1 5L5 1L9 5",stroke:"#1D2327",strokeOpacity:"0.5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}):(0,i.jsxs)("button",{onClick:t,className:"inline-flex items-center pl-2.5 pr-3 h-10 border border-gray-300 text-sm leading-4 rounded-lg text-gray-500 bg-white :outline-none ring-4 ring-blue-100",children:[(0,i.jsxs)("svg",{className:"sm:mr-2",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M6 10C6 8.93913 6.42143 7.92172 7.17157 7.17157C7.92172 6.42143 8.93913 6 10 6L10 10L6 10Z",fill:"#FFB000"}),(0,i.jsx)("circle",{cx:"10",cy:"10",r:"8",stroke:"#FFB000",strokeWidth:"2"})]}),(0,i.jsx)("span",{className:"hidden sm:inline-flex",children:(0,i.jsx)("span",{className:"mx-1 text-gray-900 font-medium",children:`${s} of ${n} Teams Connected`})}),(0,i.jsx)("svg",{className:"hidden sm:inline-flex ml-3",width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M1 5L5 1L9 5",stroke:"#1D2327",strokeOpacity:"0.5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})},tt=({toggleStatus:t,isStatusOpen:n})=>{const{settings:s}=d(),{setCurrentView:l}=m();return(0,i.jsxs)(Xe,{className:"relative",children:[(0,i.jsx)(et,{toggleStatus:t}),n?(0,i.jsx)(Xe.Panel,{static:!0,className:"absolute z-10 top-0 -right-52 -translate-x-1/2 transform translate-y-10 mt-3 px-2 w-[32rem] sm:-left-24 sm:w-screen sm:max-w-xl",children:(0,i.jsx)("div",{className:"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 overflow-hidden",children:(0,i.jsxs)("div",{className:"relative bg-white px-8 pb-6 space-y-8",children:[(0,i.jsxs)("div",{className:"flex py-6 border-b items-center justify-between",children:[(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsx)("h2",{className:"leading-tight text-lg text-gray-900",children:(0,r.__)("Teams","trustedlogin-connector")})}),(0,i.jsxs)("div",{className:"inline-flex items-center",children:[(0,i.jsx)("button",{className:"text-sm text-blue-tl",onClick:e=>{e.preventDefault(),l("teams"),t()},children:(0,r.__)("View all Teams","trustedlogin-connector")}),(0,i.jsx)("svg",{className:"ml-3",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M1.16663 7.00008H12.8333M12.8333 7.00008L6.99996 1.16675M12.8333 7.00008L6.99996 12.8334",stroke:"#00AADD",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),(0,i.jsx)("ul",{role:"list",className:"space-y-6",children:s.teams.length?(0,i.jsx)(e.Fragment,{children:s.teams.map((n=>(0,i.jsx)(e.Fragment,{children:(0,i.jsx)(Qe,{team:n,toggleStatus:t})},n.id)))}):null}),(0,i.jsxs)("div",{className:"mb-8 inline-flex items-center",children:[(0,i.jsx)("a",{className:"text-sm text-blue-tl",target:"_blank",href:"https://docs.trustedlogin.com/Connector/intro",children:(0,r.__)("Need help? View our Documentation","trustedlogin-connector")}),(0,i.jsx)("svg",{className:"ml-3",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M1.16663 7.00008H12.8333M12.8333 7.00008L6.99996 1.16675M12.8333 7.00008L6.99996 12.8334",stroke:"#00AADD",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,i.jsx)("span",{className:"screen-reader-text",children:(0,r.__)("(Link opens in a new window)","trustedlogin-connector")})]})]})})}):null]})},nt=({status:t})=>{const[n,s]=(0,e.useState)(!1),[l,o]=(0,e.useState)(!1),{setCurrentView:a}=m();return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("header",{className:"bg-white flex flex-1 auto justify-between items-center px-5 py-8 shadow-lg sm:px-10",children:[(0,i.jsx)("div",{className:"",children:(0,i.jsx)(b,{})}),(0,i.jsxs)("div",{className:"relative flex items-center space-x-2",children:[(0,i.jsx)(tt,{toggleStatus:()=>s(!n),isStatusOpen:n}),(0,i.jsxs)("a",{target:"_blank",href:"https://docs.trustedlogin.com/Connector/intro",className:"inline-flex items-center px-3.5 h-10 border border-gray-300 text-sm leading-4 font-medium rounded-lg text-gray-900 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 ring-offset-2 focus:ring-sky-500",children:[(0,i.jsx)("svg",{className:"-ml-0.5 h-4 w-4 sm:mr-2",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M14 7C14 3.13 10.86 0 7 0C3.13 0 0 3.13 0 7C0 10.87 3.13 14 7 14C10.86 14 14 10.87 14 7ZM7.7 8.48H6.14V8.05C6.14 7.67 6.22 7.35 6.38 7.07C6.54 6.79 6.84 6.5 7.26 6.18C7.67 5.89 7.94 5.65 8.07 5.47C8.21 5.29 8.27 5.08 8.27 4.85C8.27 4.6 8.18 4.41 7.99 4.27C7.8 4.14 7.54 4.08 7.2 4.08C6.62 4.08 5.95 4.27 5.2 4.65L4.56 3.37C5.43 2.88 6.36 2.63 7.33 2.63C8.14 2.63 8.78 2.83 9.25 3.21C9.73 3.6 9.96 4.12 9.96 4.76C9.96 5.19 9.87 5.56 9.67 5.87C9.48 6.19 9.1 6.54 8.56 6.93C8.18 7.21 7.95 7.42 7.85 7.56C7.75 7.71 7.7 7.9 7.7 8.13V8.48ZM6.23 11.22C6.05 11.05 5.96 10.8 5.96 10.49C5.96 10.16 6.04 9.91 6.22 9.74C6.4 9.57 6.65 9.49 6.99 9.49C7.31 9.49 7.56 9.58 7.74 9.75C7.92 9.92 8.01 10.17 8.01 10.49C8.01 10.79 7.92 11.04 7.74 11.21C7.56 11.39 7.31 11.48 6.99 11.48C6.66 11.48 6.41 11.39 6.23 11.22Z",fill:"currentColor"})}),(0,i.jsx)("span",{className:"screen-reader-text",children:(0,r.__)("(Link opens in a new window)","trustedlogin-connector")}),(0,i.jsx)("span",{className:"hidden sm:inline-flex",children:(0,r.__)("Need Help?","trustedlogin-connector")})]})]})]})})},rt=({title:t,subTitle:n,Button:s})=>{const l=(0,e.useMemo)((()=>window&&window.tlVendor&&window.tlVendor.resetAction?window.tlVendor.resetAction:""),[window]);return(0,i.jsxs)("div",{className:"pb-6 mb-6 border-b md:flex md:items-center md:justify-between md:space-x-5",children:[(0,i.jsx)("div",{className:"flex items-center space-x-5",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-2xl text-gray-900",children:t}),(0,i.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:n})]})}),(0,i.jsx)("div",{className:"mt-6 flex flex-col-reverse justify-stretch space-y-4 space-y-reverse sm:flex-row-reverse sm:justify-end sm:space-x-reverse sm:space-y-0 sm:space-x-3 md:mt-0 md:flex-row md:space-x-3",children:s?(0,i.jsx)(s,{}):(0,i.jsxs)(x,{onClick:function(){l&&(window.location=l)},className:"bg-white border border-gray-300 rounded-lg px-4 py-2 inline-flex items-center justify-center text-sm font-medium text-gray-900 hover:bg-gray-50 focus:outline-none focus:ring-2 ring-offset-2 focus:ring-sky-500",id:"sort-menu-button",isExpanded:!1,hasPopup:!0,children:[(0,i.jsx)("svg",{className:"text-gray-500 mr-2 inline-flex",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M10.0001 0.5H2.0001V2.5H10.0001C11.7001 2.5 13.0001 3.8 13.0001 5.5C13.0001 7.2 11.7001 8.5 10.0001 8.5H4.4001L7.4001 5.5L6.0001 4.1L0.600098 9.5L6.0001 14.9L7.4001 13.5L4.4001 10.5H10.0001C12.8001 10.5 15.0001 8.3 15.0001 5.5C15.0001 2.7 12.8001 0.5 10.0001 0.5Z",fill:"currentColor"})}),(0,r.__)("Reset All","trustedlogin-connector")]})})]})},st=({children:e,Icon:t=null,title:n=null,subTitle:r=null})=>(0,i.jsx)("div",{className:"flex px-5 pt-12 sm:px-10 sm:pt-32",children:(0,i.jsxs)("div",{className:"flex flex-col justify-center text-center w-full max-w-lg mx-auto p-8 bg-white rounded-lg shadow sm:p-14",children:[t?(0,i.jsx)(t,{}):null,n?(0,i.jsx)("h2",{className:"mt-4 text-2xl text-gray-900",children:n}):null,r?(0,i.jsx)("p",{className:"mt-2 mb-8 text-sm text-gray-500",children:r}):null,e]})}),lt=({children:e})=>(0,i.jsx)("div",{className:"h-full overflow-hidden",children:e}),it=({id:e,children:t})=>(0,i.jsx)("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700",children:t}),ot=({id:e,label:t,children:n})=>(0,i.jsxs)("div",{children:[(0,i.jsx)(it,{id:e,children:t}),(0,i.jsx)("div",{className:"mt-2",children:n})]}),at=({id:e,label:t,children:n})=>(0,i.jsx)(ot,{id:e,label:t,children:(0,i.jsx)("select",{id:e,name:e,className:"bg-white block w-full pl-3 pr-8 py-2.5 sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-sky-500 focus:ring-1 ring-offset-2 focus:ring-sky-500",children:n})}),ct=({id:e,label:t,defaultValue:n="",type:r="text",required:s=!1})=>(0,i.jsxs)("div",{children:[(0,i.jsx)(it,{id:e,children:t}),(0,i.jsx)("div",{className:"mt-2 relative rounded-lg",children:(0,i.jsx)("input",{defaultValue:n,type:r,name:e,id:e,required:s,className:"block w-full pl-3 pr-10 py-2.5 sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-sky-500 focus:ring-1 ring-offset-2 focus:ring-sky-500"})})]}),dt={CurrentStep:({step:e})=>(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"#",className:"block w-2 h-2 bg-blue-tl rounded-full",children:(0,i.jsxs)("span",{className:"sr-only",children:["Step ",e]})})}),OtherStep:({step:e})=>(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"#",className:"block w-2 h-2 bg-blue-tl-200 rounded-full hover:bg-gray-400","aria-current":"step",children:(0,i.jsxs)("span",{className:"sr-only",children:["Step ",e]})})}),Step:({children:e})=>(0,i.jsx)("div",{className:" inset-0 py-6 px-4 sm:px-6 lg:px-8",children:(0,i.jsx)("div",{className:"h-full",children:e})}),Dots:({step:e})=>{switch(e){case 3:default:case 1:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(dt.OtherStep,{step:1}),(0,i.jsx)(dt.OtherStep,{step:2}),(0,i.jsx)(dt.CurrentStep,{step:3})]});case 2:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(dt.OtherStep,{step:1}),(0,i.jsx)(dt.CurrentStep,{step:2}),(0,i.jsx)(dt.OtherStep,{step:3})]})}},StepBottom:({step:e,singleStepMode:t=!0})=>(0,i.jsxs)(i.Fragment,{children:[t?null:(0,i.jsx)("nav",{className:"flex items-center justify-center","aria-label":"Progress",children:(0,i.jsx)("ol",{role:"list",className:"flex items-center space-x-3 mt-2",children:(0,i.jsx)(dt.Dots,{step:e})})}),(0,i.jsxs)("div",{className:"inline-flex pt-12 items-center justify-center sm:hidden",children:[(0,i.jsx)("a",{className:"text-sm text-blue-tl",href:"#",children:"Need Help? View our Documentation"}),(0,i.jsx)("svg",{className:"ml-3",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M1.16663 7.00008H12.8333M12.8333 7.00008L6.99996 1.16675M12.8333 7.00008L6.99996 12.8334",stroke:"#00AADD",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})},ut=dt,pt=({title:e,subTitle:t})=>(0,i.jsxs)("li",{className:"relative pb-10",children:[(0,i.jsx)("div",{className:"-ml-px  mt-0.5 top-4 left-4 w-0.5 h-full bg-gray-300","aria-hidden":"true"}),(0,i.jsxs)("a",{href:"#",className:"relative flex items-start group",children:[(0,i.jsx)("span",{className:"h-9 flex items-center",children:(0,i.jsx)("span",{className:"relative z-10 w-8 h-8 flex items-center justify-center bg-white border-2 border-blue-tl rounded-full",children:(0,i.jsx)("span",{className:"h-2.5 w-2.5 bg-blue-tl rounded-full"})})}),(0,i.jsxs)("span",{className:"ml-4 min-w-0 flex flex-col",children:[(0,i.jsx)("span",{className:"text-xs font-semibold tracking-wide uppercase text-blue-tl",children:e}),(0,i.jsx)("span",{className:"text-sm text-gray-500",children:t})]})]})]}),mt=({title:e,subTitle:t})=>(0,i.jsxs)("li",{className:"relative pb-10",children:[(0,i.jsx)("div",{className:"-ml-px  mt-0.5 top-4 left-4 w-0.5 h-full bg-gray-300","aria-hidden":"true"}),(0,i.jsxs)("a",{href:"#",className:"relative flex items-start group","aria-current":"step",children:[(0,i.jsx)("span",{className:"h-9 flex items-center","aria-hidden":"true",children:(0,i.jsx)("span",{className:"relative z-10 w-8 h-8 flex items-center justify-center bg-white border-2 border-gray-300 rounded-full group-hover:border-gray-400",children:(0,i.jsx)("span",{className:"h-2.5 w-2.5 bg-transparent rounded-full group-hover:bg-gray-300"})})}),(0,i.jsxs)("span",{className:"ml-4 min-w-0 flex flex-col",children:[(0,i.jsx)("span",{className:"text-xs font-semibold tracking-wide uppercase text-gray-500",children:e}),(0,i.jsx)("span",{className:"text-sm text-gray-500",children:t})]})]})]});function ht(e){let t={};const n=new FormData(e);for(let[e,r]of n)t[e]=r;return t}var ft=s(571);const gt=({approvedRoles:t=[],id:n,onChange:r})=>{const s=(0,e.useMemo)((()=>{let e=window.tlVendor||{},t=e&&e.roles?e.roles:{administrator:"Administrator",editor:"Editor"};return Object.keys(t).map((e=>({id:e,name:t[e]})))}),[window.tlVendor]);function l(e){r&&r(e.map((e=>e.id)))}const o=t.map((e=>s.find((t=>t.id===e))));return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(ft.default,{id:n,options:s,selectedValues:o||{},onSelect:l,onRemove:l,displayValue:"name"})})},xt=({title:e,description:t="",link:n="",linkText:s=""})=>(0,i.jsxs)("div",{className:"max-w-sm mx-auto mb-8 justify-center text-center",children:[(0,i.jsx)("h2",{className:"mt-4 text-2xl text-gray-900",children:e}),(0,i.jsx)("p",{className:"mt-2 mb-4 text-sm text-gray-500",children:t}),n&&s&&s.length&&n.length?(0,i.jsxs)("a",{className:"text-blue-tl text-sm",href:n,target:"_blank",children:[s,(0,i.jsx)("span",{className:"screen-reader-text",children:(0,r.__)("(Link opens in a new window)","trustedlogin-connector")})]}):""]}),vt=()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(xt,{title:(0,r.__)("Link your TrustedLogin account","trustedlogin-connector")}),(0,i.jsxs)("div",{className:"flex flex-1 flex-col space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"account-id",className:"block text-sm font-medium text-gray-700",children:(0,r.__)("Account ID","trustedlogin-connector")}),(0,i.jsx)("div",{className:"mt-2 relative rounded-lg",children:(0,i.jsx)("input",{type:"text",name:"account-id",id:"account-id",className:"block w-full pl-3 pr-10 py-2.5 sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-sky-500 focus:ring-1 ring-offset-2 focus:ring-sky-500",placeholder:""})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"public_key",className:"block text-sm font-medium text-gray-700",children:(0,r.__)("Public Key","trustedlogin-connector")}),(0,i.jsx)("div",{className:"mt-2 relative rounded-lg",children:(0,i.jsx)("input",{type:"text",name:"public_key",id:"public_key",className:"w-full pl-3 pr-10 py-2.5 sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-sky-500 focus:ring-1 ring-offset-2 focus:ring-sky-500",placeholder:""})})]}),(0,i.jsxs)("div",{className:"pt-2 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[(0,i.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-lg border border-transparent px-4 py-2.5 bg-blue-tl text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 ring-offset-2 focus:ring-sky-500 sm:col-start-2 sm:text-sm",children:(0,r.__)("Continue","trustedlogin-connector")}),(0,i.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 px-4 py-2.5 bg-white text-base font-medium text-gray-900 hover:bg-gray-50 focus:outline-none focus:ring-2 ring-offset-2 focus:ring-sky-500 sm:mt-0 sm:col-start-1 sm:text-sm",children:(0,r.__)("Skip","trustedlogin-connector")})]})]})]})}),bt=()=>{const{addTeam:t}=d(),{setCurrentView:n}=m(),s=(0,e.useRef)(null),o=e=>{if(!s.current.checkValidity()){let e=s.current.querySelectorAll("input");return void(e.length>0&&e.forEach((e=>{e.checkValidity()?e.classList.remove("border-red-800"):e.classList.add("border-red-800")})))}e.preventDefault();let r=ht(s.current);t(r,!0,(()=>n("teams")))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"max-w-sm mx-auto mb-8 justify-center text-center",children:[(0,i.jsx)("h2",{className:"mt-4 text-2xl text-gray-900",children:(0,r.__)("Create your first team","trustedlogin-connector")}),(0,i.jsx)("p",{className:"mt-2 mb-4 text-sm text-gray-500",children:(0,r.__)("Each team supports a project in TrustedLogin.","trustedlogin-connector")}),(0,i.jsxs)("a",{className:"text-blue-tl text-sm",href:"https://app.trustedlogin.com/admin/teams",target:"_blank",children:[(0,r.__)("Where can I find this info?","trustedlogin-connector"),(0,i.jsx)("span",{className:"screen-reader-text",children:(0,r.__)("(Link opens in a new window)","trustedlogin-connector")})]})]}),(0,i.jsxs)("form",{ref:s,className:"flex flex-1 flex-col space-y-6",onSubmit:o,children:[(0,i.jsx)(ct,{type:"number",id:l.account_id.id,label:l.account_id.label,required:!0}),(0,i.jsx)(ct,{id:l.public_key.id,label:l.public_key.label,required:!0}),(0,i.jsx)(ct,{id:l.private_key.id,label:l.private_key.label,required:!0}),(0,i.jsx)(ot,{id:l.approved_roles.id,label:l.approved_roles.label,children:(0,i.jsx)(gt,{approvedRoles:[],id:l.approved_roles.id})}),(0,i.jsxs)(at,{id:l.helpdesk.id,label:l.helpdesk.label,children:[(0,i.jsx)("option",{children:(0,r.__)("Select a Help Desk","trustedlogin-connector")}),(0,i.jsx)("option",{value:"helpscout",children:"Help Scout"}),(0,i.jsx)("option",{value:"freescout",children:"FreeScout"})]}),(0,i.jsx)("div",{className:"pt-2",children:(0,i.jsx)("button",{onClick:o,type:"button",className:"w-full inline-flex justify-center rounded-lg border border-transparent px-4 py-2.5 bg-blue-tl text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 ring-offset-2 focus:ring-sky-500 sm:col-start-2 sm:text-sm",children:(0,r.__)("Continue","trustedlogin-connector")})})]})]})},yt=({step:e})=>2===e?(0,i.jsxs)("svg",{className:"mx-auto",width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{x:"4",y:"4",width:"48",height:"48",rx:"24",fill:"#00AADD"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28 26C26.9391 26 25.9217 25.5786 25.1716 24.8284C24.4214 24.0783 24 23.0609 24 22C24 20.9391 24.4214 19.9217 25.1716 19.1716C25.9217 18.4214 26.9391 18 28 18C29.0609 18 30.0783 18.4214 30.8284 19.1716C31.5786 19.9217 32 20.9391 32 22C32 23.0609 31.5786 24.0783 30.8284 24.8284C30.0783 25.5786 29.0609 26 28 26ZM22 36C20.9391 36 19.9217 35.5786 19.1716 34.8284C18.4214 34.0783 18 33.0609 18 32C18 30.9391 18.4214 29.9217 19.1716 29.1716C19.9217 28.4214 20.9391 28 22 28C23.0609 28 24.0783 28.4214 24.8284 29.1716C25.5786 29.9217 26 30.9391 26 32C26 33.0609 25.5786 34.0783 24.8284 34.8284C24.0783 35.5786 23.0609 36 22 36V36ZM34 36C32.9391 36 31.9217 35.5786 31.1716 34.8284C30.4214 34.0783 30 33.0609 30 32C30 30.9391 30.4214 29.9217 31.1716 29.1716C31.9217 28.4214 32.9391 28 34 28C35.0609 28 36.0783 28.4214 36.8284 29.1716C37.5786 29.9217 38 30.9391 38 32C38 33.0609 37.5786 34.0783 36.8284 34.8284C36.0783 35.5786 35.0609 36 34 36Z",stroke:"white",strokeWidth:"2"}),(0,i.jsx)("rect",{x:"4",y:"4",width:"48",height:"48",rx:"24",stroke:"#CDEFF9",strokeWidth:"8"})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("svg",{className:"mx-auto",width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{x:"4",y:"4",width:"48",height:"48",rx:"24",fill:"#00AADD"}),(0,i.jsx)("path",{d:"M28 31V33V31ZM22 37H34C34.5304 37 35.0391 36.7893 35.4142 36.4142C35.7893 36.0391 36 35.5304 36 35V29C36 28.4696 35.7893 27.9609 35.4142 27.5858C35.0391 27.2107 34.5304 27 34 27H22C21.4696 27 20.9609 27.2107 20.5858 27.5858C20.2107 27.9609 20 28.4696 20 29V35C20 35.5304 20.2107 36.0391 20.5858 36.4142C20.9609 36.7893 21.4696 37 22 37ZM32 27V23C32 21.9391 31.5786 20.9217 30.8284 20.1716C30.0783 19.4214 29.0609 19 28 19C26.9391 19 25.9217 19.4214 25.1716 20.1716C24.4214 20.9217 24 21.9391 24 23V27H32Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("rect",{x:"4",y:"4",width:"48",height:"48",rx:"24",stroke:"#CDEFF9",strokeWidth:"8"})]})}),Ct=({step:e,singleStepMode:t=!0})=>{const n=()=>1===e?(0,i.jsx)(vt,{}):(0,i.jsx)(bt,{});return(0,i.jsxs)(ut.Step,{children:[(0,i.jsxs)("div",{className:"flex flex-col pt-12 w-full max-w-sm mx-auto",children:[(0,i.jsx)(yt,{step:e}),(0,i.jsx)(n,{})]}),(0,i.jsx)(ut.StepBottom,{step:e,singleStepMode:t})]})},wt=({currentStep:e=2,singleStepMode:t=!0})=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(lt,{children:(0,i.jsx)("div",{className:"h-full flex bg-white",children:(0,i.jsx)("div",{className:"flex flex-col min-w-0 flex-1 overflow-hidden",children:(0,i.jsxs)("div",{className:"flex-1 relative z-0 flex overflow-hidden",children:[(0,i.jsx)("div",{id:"trustedlogin-onboarding-main",className:"flex-1 relative z-0 overflow-y-auto focus:outline-none md:order-last",children:(0,i.jsx)(Ct,{currentStep:e,singleStepMode:t})}),(0,i.jsx)("aside",{className:"hidden relative bg-gray-tl md:order-first md:flex md:flex-col flex-shrink-0 min-w-[26rem] overflow-y-auto",id:"trustedlogin-onboarding-side",children:(0,i.jsx)("div",{className:"inset-0",children:(0,i.jsxs)("div",{className:"h-full flex flex-col justify-between p-12",children:[(0,i.jsxs)("div",{className:"space-y-16",children:[(0,i.jsx)("div",{children:(0,i.jsx)(b,{})}),(0,i.jsx)("div",{style:{visibility:t?"hidden":"inherit"},children:(0,i.jsx)("nav",{"aria-label":"Progress",children:(0,i.jsxs)("ol",{role:"list",className:"overflow-hidden",children:[(0,i.jsx)(pt,{title:(0,r.__)("Link your account","trustedlogin-connector")}),(0,i.jsx)(mt,{title:(0,r.__)("Create Team","trustedlogin-connector")}),(0,i.jsx)(mt,{title:(0,r.__)("Configure Help Desk","trustedlogin-connector")})]})})})]}),(0,i.jsxs)("div",{className:"inline-flex items-center justify-center",children:[(0,i.jsxs)("a",{className:"text-sm text-blue-tl",target:"_blank",href:"https://docs.trustedlogin.com/Connector/intro",children:[(0,r.__)("Need Help? View our Documentation","trustedlogin-connector"),(0,i.jsx)("span",{className:"screen-reader-text",children:(0,r.__)("(Link opens in a new window)","trustedlogin-connector")})]}),(0,i.jsx)("svg",{className:"ml-3",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M1.16663 7.00008H12.8333M12.8333 7.00008L6.99996 1.16675M12.8333 7.00008L6.99996 12.8334",stroke:"#00AADD",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})})})]})})})})}),jt=()=>{const{setCurrentView:e}=m();return(0,i.jsx)(st,{Icon:()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("svg",{className:"mx-auto",width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{x:"4",y:"4",width:"48",height:"48",rx:"24",fill:"#00AADD"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28 26C26.9391 26 25.9217 25.5786 25.1716 24.8284C24.4214 24.0783 24 23.0609 24 22C24 20.9391 24.4214 19.9217 25.1716 19.1716C25.9217 18.4214 26.9391 18 28 18C29.0609 18 30.0783 18.4214 30.8284 19.1716C31.5786 19.9217 32 20.9391 32 22C32 23.0609 31.5786 24.0783 30.8284 24.8284C30.0783 25.5786 29.0609 26 28 26ZM22 36C20.9391 36 19.9217 35.5786 19.1716 34.8284C18.4214 34.0783 18 33.0609 18 32C18 30.9391 18.4214 29.9217 19.1716 29.1716C19.9217 28.4214 20.9391 28 22 28C23.0609 28 24.0783 28.4214 24.8284 29.1716C25.5786 29.9217 26 30.9391 26 32C26 33.0609 25.5786 34.0783 24.8284 34.8284C24.0783 35.5786 23.0609 36 22 36V36ZM34 36C32.9391 36 31.9217 35.5786 31.1716 34.8284C30.4214 34.0783 30 33.0609 30 32C30 30.9391 30.4214 29.9217 31.1716 29.1716C31.9217 28.4214 32.9391 28 34 28C35.0609 28 36.0783 28.4214 36.8284 29.1716C37.5786 29.9217 38 30.9391 38 32C38 33.0609 37.5786 34.0783 36.8284 34.8284C36.0783 35.5786 35.0609 36 34 36Z",stroke:"white",strokeWidth:"2"}),(0,i.jsx)("rect",{x:"4",y:"4",width:"48",height:"48",rx:"24",stroke:"#CDEFF9",strokeWidth:"8"})]})}),title:"Create your first team",subtitle:"Add a support team, as configured in TrustedLogin.",children:(0,i.jsxs)("button",{onClick:()=>e("teams/new"),type:"button",className:"inline-flex items-center justify-center mt-6 px-4 py-2 border border-transparent shadow-sm font-medium rounded-lg text-white bg-blue-tl focus:outline-none focus:ring-2 ring-offset-2 focus:ring-sky-500 sm:text-sm",children:[(0,i.jsx)("svg",{className:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,i.jsx)("g",{fill:"none",children:(0,i.jsx)("path",{d:"M12 6v6m0 0v6m0-6h6m-6 0H6",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),"Add Team"]})})},kt=({id:e,label:t,children:n,htmlFor:r})=>(0,i.jsxs)("div",{className:"",children:[(0,i.jsx)("label",{htmlFor:r||e,className:"block text-sm font-medium text-gray-700",children:t}),(0,i.jsx)("div",{className:"mt-2",children:n})]}),St=({id:e,label:t,children:n})=>(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700",children:t}),(0,i.jsx)("div",{className:"mt-2 relative rounded-lg",children:n})]}),Nt=({id:e,name:t,label:n,type:r="text",value:s="",onChange:l,required:o=!1})=>(0,i.jsx)(St,{name:t,id:e,label:n,children:(0,i.jsx)("input",{type:r,name:t,id:e,required:o,value:s,onChange:l,className:"block w-full pl-4 pr-10 py-2.5 sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-sky-500 focus:ring-1 ring-offset-2 focus:ring-sky-500"})}),_t=({id:e,name:t,label:n,children:r,value:s,onChange:l})=>(0,i.jsx)(kt,{label:n,id:e,children:(0,i.jsx)("select",{id:e,name:t,value:s,onChange:l,className:"bg-white block w-full pl-3 pr-8 py-2.5 sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-sky-500 focus:ring-1 ring-offset-2 focus:ring-sky-500",children:r})});var Et=s(556);const Lt=({size:e})=>(0,i.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-500 bg-opacity-75 z-50",children:[e&&(0,i.jsx)("style",{children:`\n          body .spinner-dark-tl:before,\n          body .spinner-light-tl:before {\n            width: ${e}px;\n            height: ${e}px;\n          }\n        `}),(0,i.jsx)("div",{className:"spinner-dark-tl"})]});Lt.propTypes={size:s.n(Et)().number};const Ot=Lt,Tt=({value:t,onChange:n,options:s=null})=>{const{getEnabledHelpDeskOptions:o}=d(),a=(0,e.useMemo)((()=>s||o()),[s,o]);return(0,i.jsx)(_t,{id:l.helpdesk.id,name:l.helpdesk.id,label:l.helpdesk.label,value:t,onChange:n,children:a.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("option",{children:(0,r.__)("Select a Help Desk","trustedlogin-connector")}),a.map((e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value)))]}):(0,i.jsx)("option",{children:(0,r.__)("No Helpdesks Active","trustedlogin-connector")})})},Ft=({team:t=null,onClickSave:n,formTitle:s="Update Team"})=>{var o,a;const{loading:c}=d(),{setCurrentView:u}=m(),p=(0,e.useRef)(),[h,f]=(0,e.useState)(t?.approved_roles),[g,x]=(0,e.useState)(t?.account_id),[b,y]=(0,e.useState)(t?.public_key),[C,w]=(0,e.useState)(t?.private_key),[j,k]=(0,e.useState)(null!==(o=null!==(a=t?.helpdesk?.[0])&&void 0!==a?a:l?.helpdesk?.defaultValue)&&void 0!==o?o:"");(0,e.useEffect)((()=>{var e,n;x(t?.account_id),y(t?.public_key),w(t?.private_key),f(t?.approved_roles),k(null!==(e=null!==(n=t?.helpdesk?.[0])&&void 0!==n?n:l?.helpdesk?.defaultValue)&&void 0!==e?e:"")}),[t]);const S=e=>{if(!p.current.checkValidity())return;e.preventDefault();let t=ht(p.current);t.approved_roles=h,n(t)};return(0,i.jsxs)(i.Fragment,{children:[c&&(0,i.jsx)(Ot,{size:150}),(0,i.jsx)("form",{className:"flex px-5 pt-20 sm:px-10",ref:p,onSubmit:S,children:(0,i.jsxs)("div",{className:"flex flex-col w-full max-w-4xl mx-auto p-8 bg-white rounded-lg shadow sm:p-14 sm:pb-8",children:[(0,i.jsxs)("svg",{className:"mx-auto",width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{x:"4",y:"4",width:"48",height:"48",rx:"24",fill:"#00AADD"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28 26C26.9391 26 25.9217 25.5786 25.1716 24.8284C24.4214 24.0783 24 23.0609 24 22C24 20.9391 24.4214 19.9217 25.1716 19.1716C25.9217 18.4214 26.9391 18 28 18C29.0609 18 30.0783 18.4214 30.8284 19.1716C31.5786 19.9217 32 20.9391 32 22C32 23.0609 31.5786 24.0783 30.8284 24.8284C30.0783 25.5786 29.0609 26 28 26ZM22 36C20.9391 36 19.9217 35.5786 19.1716 34.8284C18.4214 34.0783 18 33.0609 18 32C18 30.9391 18.4214 29.9217 19.1716 29.1716C19.9217 28.4214 20.9391 28 22 28C23.0609 28 24.0783 28.4214 24.8284 29.1716C25.5786 29.9217 26 30.9391 26 32C26 33.0609 25.5786 34.0783 24.8284 34.8284C24.0783 35.5786 23.0609 36 22 36V36ZM34 36C32.9391 36 31.9217 35.5786 31.1716 34.8284C30.4214 34.0783 30 33.0609 30 32C30 30.9391 30.4214 29.9217 31.1716 29.1716C31.9217 28.4214 32.9391 28 34 28C35.0609 28 36.0783 28.4214 36.8284 29.1716C37.5786 29.9217 38 30.9391 38 32C38 33.0609 37.5786 34.0783 36.8284 34.8284C36.0783 35.5786 35.0609 36 34 36Z",stroke:"white",strokeWidth:"2"}),(0,i.jsx)("rect",{x:"4",y:"4",width:"48",height:"48",rx:"24",stroke:"#CDEFF9",strokeWidth:"8"})]}),(0,i.jsx)(xt,{title:s,link:"https://app.trustedlogin.com/admin/teams",linkText:(0,r.__)("Where can I find this info?","trustedlogin-connector")}),(0,i.jsxs)("div",{className:"flex flex-col py-6 space-y-6 sm:space-y-0 sm:space-x-12 sm:flex-row",children:[(0,i.jsxs)("div",{className:"flex flex-col space-y-6 sm:flex-1",children:[(0,i.jsx)(Nt,{type:"number",name:l.account_id.id,id:l.account_id.id,label:l.account_id.label,value:g,onChange:e=>x(e.target.valueAsNumber),required:!0}),(0,i.jsx)(Nt,{type:"text",name:l.public_key.id,id:l.public_key.id,label:l.public_key.label,value:b,onChange:e=>y(e.target.value),required:!0}),(0,i.jsx)(Nt,{type:"text",name:l.private_key.id,id:l.private_key.id,label:l.private_key.label,value:C,onChange:e=>w(e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-6 sm:flex-1",children:[(0,i.jsx)(kt,{id:l.approved_roles.id,label:l.approved_roles.label,children:(0,i.jsx)(gt,{onChange:e=>f(e),approvedRoles:t?.approved_roles||[],id:l.approved_roles.id})}),(0,i.jsx)(Tt,{value:j,onChange:e=>k(e.target.value)})]})]}),(0,i.jsx)(v,{onSubmit:S,submitText:s,onCancel:()=>{u("teams")}})]})})]})},Mt=()=>{const{addTeam:e,loading:t}=d(),{setCurrentView:n}=m();return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(Ot,{size:150}),(0,i.jsx)(Ft,{onClickSave:t=>{e(t,!0),n("teams")},formTitle:"Add Team"})]})};function Pt(){let e=[],t={addEventListener:(e,n,r,s)=>(e.addEventListener(n,r,s),t.add((()=>e.removeEventListener(n,r,s)))),requestAnimationFrame(...e){let n=requestAnimationFrame(...e);return t.add((()=>cancelAnimationFrame(n)))},nextFrame:(...e)=>t.requestAnimationFrame((()=>t.requestAnimationFrame(...e))),setTimeout(...e){let n=setTimeout(...e);return t.add((()=>clearTimeout(n)))},microTask(...e){let n={current:!0};return _((()=>{n.current&&e[0]()})),t.add((()=>{n.current=!1}))},style(e,t,n){let r=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),this.add((()=>{Object.assign(e.style,{[t]:r})}))},group(e){let t=Pt();return e(t),this.add((()=>t.dispose()))},add:t=>(e.push(t),()=>{let n=e.indexOf(t);if(n>=0)for(let t of e.splice(n,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function Dt(){let t=(0,e.useRef)(!1);return k((()=>(t.current=!0,()=>{t.current=!1})),[]),t}function Vt(t,n){let r=(0,e.useRef)([]),s=N(t);(0,e.useEffect)((()=>{let e=[...r.current];for(let[t,l]of n.entries())if(r.current[t]!==l){let t=s(n,e);return r.current=n,t}}),[s,...n])}let It=[];function At(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}!function(e){function t(){"loading"!==document.readyState&&((()=>{function e(e){e.target instanceof HTMLElement&&e.target!==document.body&&It[0]!==e.target&&(It.unshift(e.target),It=It.filter((e=>null!=e&&e.isConnected)),It.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})})(),document.removeEventListener("DOMContentLoaded",t))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",t),t())}();var Bt=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Bt||{});let Rt=Z((function(t,n){let r=(0,e.useRef)(null),s=P(r,n),{initialFocus:l,containers:i,features:o=30,...a}=t;T()||(o=1);let c=O(r);Wt({ownerDocument:c},Boolean(16&o));let d=function({ownerDocument:t,container:n,initialFocus:r},s){let l=(0,e.useRef)(null),i=Dt();return Vt((()=>{if(!s)return;let e=n.current;e&&_((()=>{if(!i.current)return;let n=null==t?void 0:t.activeElement;if(null!=r&&r.current){if((null==r?void 0:r.current)===n)return void(l.current=n)}else if(e.contains(n))return void(l.current=n);null!=r&&r.current?fe(r.current):xe(e,ae.First)===ce.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),l.current=null==t?void 0:t.activeElement}))}),[s]),l}({ownerDocument:c,container:r,initialFocus:l},Boolean(2&o));!function({ownerDocument:e,container:t,containers:n,previousActiveElement:r},s){let l=Dt();re(null==e?void 0:e.defaultView,"focus",(e=>{if(!s||!l.current)return;let i=At(n);t.current instanceof HTMLElement&&i.add(t.current);let o=r.current;if(!o)return;let a=e.target;a&&a instanceof HTMLElement?zt(i,a)?(r.current=a,fe(a)):(e.preventDefault(),e.stopPropagation(),fe(o)):fe(r.current)}),!0)}({ownerDocument:c,container:r,containers:i,previousActiveElement:d},Boolean(8&o));let u=_e(),p=N((e=>{let t=r.current;t&&B(u.current,{[Ne.Forwards]:()=>{xe(t,ae.First,{skipElements:[e.relatedTarget]})},[Ne.Backwards]:()=>{xe(t,ae.Last,{skipElements:[e.relatedTarget]})}})})),m=function(){let[t]=(0,e.useState)(Pt);return(0,e.useEffect)((()=>()=>t.dispose()),[t]),t}(),h=(0,e.useRef)(!1),f={ref:s,onKeyDown(e){"Tab"==e.key&&(h.current=!0,m.requestAnimationFrame((()=>{h.current=!1})))},onBlur(e){let t=At(i);r.current instanceof HTMLElement&&t.add(r.current);let n=e.relatedTarget;n instanceof HTMLElement&&"true"!==n.dataset.headlessuiFocusGuard&&(zt(t,n)||(h.current?xe(r.current,B(u.current,{[Ne.Forwards]:()=>ae.Next,[Ne.Backwards]:()=>ae.Previous})|ae.WrapAround,{relativeTo:e.target}):e.target instanceof HTMLElement&&fe(e.target)))}};return e.createElement(e.Fragment,null,Boolean(4&o)&&e.createElement(ke,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:je.Focusable}),W({ourProps:f,theirProps:a,defaultTag:"div",name:"FocusTrap"}),Boolean(4&o)&&e.createElement(ke,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:je.Focusable}))})),Ht=Object.assign(Rt,{features:Bt});function Wt({ownerDocument:t},n){let r=function(t=!0){let n=(0,e.useRef)(It.slice());return Vt((([e],[t])=>{!0===t&&!1===e&&_((()=>{n.current.splice(0)})),!1===t&&!0===e&&(n.current=It.slice())}),[t,It,n]),N((()=>{var e;return null!=(e=n.current.find((e=>null!=e&&e.isConnected)))?e:null}))}(n);Vt((()=>{n||(null==t?void 0:t.activeElement)===(null==t?void 0:t.body)&&fe(r())}),[n]),E((()=>{n&&fe(r())}))}function zt(e,t){for(let n of e)if(n.contains(t))return!0;return!1}const $t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:Kt,useEffect:Zt,useLayoutEffect:Ut,useDebugValue:qt}=t;function Gt(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!$t(n,e)}catch{return!0}}const Yt="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t,n){return t()}:function(e,t,n){const r=t(),[{inst:s},l]=Kt({inst:{value:r,getSnapshot:t}});return Ut((()=>{s.value=r,s.getSnapshot=t,Gt(s)&&l({inst:s})}),[e,r,t]),Zt((()=>(Gt(s)&&l({inst:s}),e((()=>{Gt(s)&&l({inst:s})})))),[e]),qt(r),r},Jt="useSyncExternalStore"in t?(e=>e.useSyncExternalStore)(t):Yt;function Xt(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=(null!=(n=t.defaultView)?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,s=r.clientWidth-r.offsetWidth,l=e-s;n.style(r,"paddingRight",`${l}px`)}}}function Qt(){return ve()?{before({doc:e,d:t,meta:n}){function r(e){return n.containers.flatMap((e=>e())).some((t=>t.contains(e)))}t.microTask((()=>{var n;if("auto"!==window.getComputedStyle(e.documentElement).scrollBehavior){let n=Pt();n.style(e.documentElement,"scrollBehavior","auto"),t.add((()=>t.microTask((()=>n.dispose()))))}let s=null!=(n=window.scrollY)?n:window.pageYOffset,l=null;t.addEventListener(e,"click",(t=>{if(t.target instanceof HTMLElement)try{let n=t.target.closest("a");if(!n)return;let{hash:s}=new URL(n.href),i=e.querySelector(s);i&&!r(i)&&(l=i)}catch{}}),!0),t.addEventListener(e,"touchstart",(e=>{if(e.target instanceof HTMLElement)if(r(e.target)){let n=e.target;for(;n.parentElement&&r(n.parentElement);)n=n.parentElement;t.style(n,"overscrollBehavior","contain")}else t.style(e.target,"touchAction","none")})),t.addEventListener(e,"touchmove",(e=>{if(e.target instanceof HTMLElement)if(r(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()}),{passive:!1}),t.add((()=>{var e;let t=null!=(e=window.scrollY)?e:window.pageYOffset;s!==t&&window.scrollTo(0,s),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)}))}))}}:{}}function en(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let tn=function(e,t){let n=new Map,r=new Set;return{getSnapshot:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e)),dispatch(e,...s){let l=t[e].call(n,...s);l&&(n=l,r.forEach((e=>e())))}}}(0,{PUSH(e,t){var n;let r=null!=(n=this.get(e))?n:{doc:e,count:0,d:Pt(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:en(n)},s=[Qt(),Xt(),{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}];s.forEach((({before:e})=>null==e?void 0:e(r))),s.forEach((({after:e})=>null==e?void 0:e(r)))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});function nn(e,t,n){let r=function(e){return Jt(e.subscribe,e.getSnapshot,e.getSnapshot)}(tn),s=e?r.get(e):void 0,l=!!s&&s.count>0;return k((()=>{if(e&&t)return tn.dispatch("PUSH",e,n),()=>tn.dispatch("POP",e,n)}),[t,e]),l}tn.subscribe((()=>{let e=tn.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let e="hidden"===t.get(n.doc),r=0!==n.count;(r&&!e||!r&&e)&&tn.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),0===n.count&&tn.dispatch("TEARDOWN",n)}}));let rn=new Map,sn=new Map;function ln(e,t=!0){k((()=>{var n;if(!t)return;let r="function"==typeof e?e():e.current;if(!r)return;let s=null!=(n=sn.get(r))?n:0;return sn.set(r,s+1),0!==s||(rn.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),function(){var e;if(!r)return;let t=null!=(e=sn.get(r))?e:1;if(1===t?sn.delete(r):sn.set(r,t-1),1!==t)return;let n=rn.get(r);n&&(null===n["aria-hidden"]?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",n["aria-hidden"]),r.inert=n.inert,rn.delete(r))}}),[e,t])}let on=(0,e.createContext)((()=>{}));on.displayName="StackContext";var an=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(an||{});function cn({children:t,onUpdate:n,type:r,element:s,enabled:l}){let i=(0,e.useContext)(on),o=N(((...e)=>{null==n||n(...e),i(...e)}));return k((()=>{let e=void 0===l||!0===l;return e&&o(0,r,s),()=>{e&&o(1,r,s)}}),[o,r,s,l]),e.createElement(on.Provider,{value:o},t)}let dn=(0,e.createContext)(null);function un(){let t=(0,e.useContext)(dn);if(null===t){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,un),e}return t}let pn=Z((function(e,t){let n=le(),{id:r=`headlessui-description-${n}`,...s}=e,l=un(),i=P(t);return k((()=>l.register(r)),[r,l.register]),W({ourProps:{ref:i,...l.props,id:r},theirProps:s,slot:l.slot||{},defaultTag:"p",name:l.name||"Description"})})),mn=Object.assign(pn,{});var hn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(hn||{}),fn=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(fn||{});let gn={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},xn=(0,e.createContext)(null);function vn(t){let n=(0,e.useContext)(xn);if(null===n){let e=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,vn),e}return n}function bn(e,t){return B(t.type,gn,e,t)}xn.displayName="DialogContext";let yn=R.RenderStrategy|R.Static,Cn=Z((function(t,n){let r=le(),{id:s=`headlessui-dialog-${r}`,open:l,onClose:i,initialFocus:o,role:a="dialog",__demoMode:c=!1,...d}=t,[u,p]=(0,e.useState)(0),m=(0,e.useRef)(!1);a="dialog"===a||"alertdialog"===a?a:(m.current||(m.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog");let h=Oe();void 0===l&&null!==h&&(l=(h&Le.Open)===Le.Open);let f=(0,e.useRef)(null),g=P(f,n),x=O(f),v=t.hasOwnProperty("open")||null!==h,b=t.hasOwnProperty("onClose");if(!v&&!b)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!v)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!b)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof l)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${l}`);if("function"!=typeof i)throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let y=l?0:1,[C,w]=(0,e.useReducer)(bn,{titleId:null,descriptionId:null,panelRef:(0,e.createRef)()}),j=N((()=>i(!1))),k=N((e=>w({type:0,id:e}))),S=!!T()&&!c&&0===y,_=u>1,E=null!==(0,e.useContext)(xn),[L,F]=Q(),M={get current(){var e;return null!=(e=C.panelRef.current)?e:f.current}},{resolveContainers:D,mainTreeNodeRef:V,MainTreeNode:A}=Se({portals:L,defaultContainers:[M]}),R=_?"parent":"leaf",H=null!==h&&(h&Le.Closing)===Le.Closing,z=!E&&!H&&S,$=(0,e.useCallback)((()=>{var e,t;return null!=(t=Array.from(null!=(e=null==x?void 0:x.querySelectorAll("body > *"))?e:[]).find((e=>"headlessui-portal-root"!==e.id&&e.contains(V.current)&&e instanceof HTMLElement)))?t:null}),[V]);ln($,z);let K=!!_||S,Z=(0,e.useCallback)((()=>{var e,t;return null!=(t=Array.from(null!=(e=null==x?void 0:x.querySelectorAll("[data-headlessui-portal]"))?e:[]).find((e=>e.contains(V.current)&&e instanceof HTMLElement)))?t:null}),[V]);ln(Z,K),Ce(D,(e=>{e.preventDefault(),j()}),!(!S||_));let U=!(_||0!==y);re(null==x?void 0:x.defaultView,"keydown",(e=>{U&&(e.defaultPrevented||e.key===Me.Escape&&(e.preventDefault(),e.stopPropagation(),j()))})),function(e,t,n=()=>[document.body]){nn(e,t,(e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],n]}}))}(x,!(H||0!==y||E),D),(0,e.useEffect)((()=>{if(0!==y||!f.current)return;let e=new ResizeObserver((e=>{for(let t of e){let e=t.target.getBoundingClientRect();0===e.x&&0===e.y&&0===e.width&&0===e.height&&j()}}));return e.observe(f.current),()=>e.disconnect()}),[y,f,j]);let[q,G]=function(){let[t,n]=(0,e.useState)([]);return[t.length>0?t.join(" "):void 0,(0,e.useMemo)((()=>function(t){let r=N((e=>(n((t=>[...t,e])),()=>n((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))))),s=(0,e.useMemo)((()=>({register:r,slot:t.slot,name:t.name,props:t.props})),[r,t.slot,t.name,t.props]);return e.createElement(dn.Provider,{value:s},t.children)}),[n])]}(),Y=(0,e.useMemo)((()=>[{dialogState:y,close:j,setTitleId:k},C]),[y,C,j,k]),J=(0,e.useMemo)((()=>({open:0===y})),[y]),X={ref:g,id:s,role:a,"aria-modal":0===y||void 0,"aria-labelledby":C.titleId,"aria-describedby":q};return e.createElement(cn,{type:"Dialog",enabled:0===y,element:f,onUpdate:N(((e,t)=>{"Dialog"===t&&B(e,{[an.Add]:()=>p((e=>e+1)),[an.Remove]:()=>p((e=>e-1))})}))},e.createElement(I,{force:!0},e.createElement(ne,null,e.createElement(xn.Provider,{value:Y},e.createElement(ne.Group,{target:f},e.createElement(I,{force:!1},e.createElement(G,{slot:J,name:"Dialog.Description"},e.createElement(Ht,{initialFocus:o,containers:D,features:S?B(R,{parent:Ht.features.RestoreFocus,leaf:Ht.features.All&~Ht.features.FocusLock}):Ht.features.None},e.createElement(F,null,W({ourProps:X,theirProps:d,slot:J,defaultTag:"div",features:yn,visible:0===y,name:"Dialog"}))))))))),e.createElement(A,null))})),wn=Z((function(t,n){let r=le(),{id:s=`headlessui-dialog-backdrop-${r}`,...l}=t,[{dialogState:i},o]=vn("Dialog.Backdrop"),a=P(n);(0,e.useEffect)((()=>{if(null===o.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")}),[o.panelRef]);let c=(0,e.useMemo)((()=>({open:0===i})),[i]);return e.createElement(I,{force:!0},e.createElement(ne,null,W({ourProps:{ref:a,id:s,"aria-hidden":!0},theirProps:l,slot:c,defaultTag:"div",name:"Dialog.Backdrop"})))})),jn=Z((function(t,n){let r=le(),{id:s=`headlessui-dialog-panel-${r}`,...l}=t,[{dialogState:i},o]=vn("Dialog.Panel"),a=P(n,o.panelRef),c=(0,e.useMemo)((()=>({open:0===i})),[i]),d=N((e=>{e.stopPropagation()}));return W({ourProps:{ref:a,id:s,onClick:d},theirProps:l,slot:c,defaultTag:"div",name:"Dialog.Panel"})})),kn=Z((function(t,n){let r=le(),{id:s=`headlessui-dialog-overlay-${r}`,...l}=t,[{dialogState:i,close:o}]=vn("Dialog.Overlay"),a=P(n),c=N((e=>{if(e.target===e.currentTarget){if(Fe(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),o()}}));return W({ourProps:{ref:a,id:s,"aria-hidden":!0,onClick:c},theirProps:l,slot:(0,e.useMemo)((()=>({open:0===i})),[i]),defaultTag:"div",name:"Dialog.Overlay"})})),Sn=Z((function(t,n){let r=le(),{id:s=`headlessui-dialog-title-${r}`,...l}=t,[{dialogState:i,setTitleId:o}]=vn("Dialog.Title"),a=P(n);(0,e.useEffect)((()=>(o(s),()=>o(null))),[s,o]);let c=(0,e.useMemo)((()=>({open:0===i})),[i]);return W({ourProps:{ref:a,id:s},theirProps:l,slot:c,defaultTag:"h2",name:"Dialog.Title"})})),Nn=Object.assign(Cn,{Backdrop:wn,Panel:jn,Overlay:kn,Title:Sn,Description:mn});const En=({width:e=36,height:t=44})=>(0,i.jsx)("svg",{width:e,height:t,viewBox:"0 0 40 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.9209 14.1817L3.03705 28.3637C1.30192 26.5909 0.217179 24.1535 0 21.2726C0 18.6137 1.30163 15.9546 3.03705 14.1817L17.1381 0C18.8735 1.77286 19.958 4.43172 19.958 7.09086C19.958 9.75001 18.6567 12.4092 16.9212 14.1817H16.9209ZM23.0285 33.8183L37.0644 19.6363C38.8191 21.6306 39.916 24.0683 39.916 26.7271C39.916 29.3863 38.5997 32.0454 36.8455 33.8183L22.809 48C21.0545 46.2271 19.958 43.568 19.958 40.9091C19.958 38.25 21.2737 35.5908 23.0285 33.8183ZM22.6843 14.1817L26.8285 10.0363L37.0803 0C38.8252 1.7455 39.9157 4.36374 39.9157 6.98199C39.9157 9.60023 38.6072 12.2182 36.8619 13.9637L26.8285 24L22.6843 28.1454L16.7954 34.0363L12.6511 38.1817L2.83571 48C1.0905 46.2545 0 43.6363 0 41.018C0 38.3998 1.30883 35.7815 3.05375 34.0363L12.8691 24.218L16.7951 20.0726L22.6843 14.1817Z",fill:"#1292EE"})}),Ln=({width:e=36,height:t=44})=>(0,i.jsx)("svg",{width:e,height:t,viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0,48l0,3.6c0,12.7,7.7,21.6,18.7,21.6h1.8c4.9,0,9.8-2.8,13.3-6.8c3.9,3,8.8,4.9,14.2,4.9 c12.9,0,23.3-10.5,23.3-23.3S60.9,24.7,48,24.7c-12.9,0-23.3,10.5-23.3,23.3v7.5c-0.1,1.3-2.8,3.9-4.1,4h-1.8c-4.4,0-5-4.9-5-7.8 V48c0-18.9,15.4-34.3,34.3-34.3c18.9,0,34.3,15.4,34.3,34.3c0,18.9-15.4,34.3-34.3,34.3c-7,0-11.9-2-15.2-3.5l-7.4,11.6 C30.6,93.2,38.2,96,48,96c26.5,0,48-21.5,48-48C96,21.5,74.5,0,48,0C21.5,0,0,21.5,0,48z M38.4,48c0-5.3,4.3-9.6,9.6-9.6 c5.3,0,9.6,4.3,9.6,9.6c0,5.3-4.3,9.6-9.6,9.6C42.7,57.6,38.4,53.3,38.4,48z",fill:"#0078d7"})}),On={helpscout:{link:"#",linkText:(0,r.__)("Learn how to set up a TrustedLogin Help Scout widget.","trustedlogin-connector"),description:(0,r.__)("Enter these values into a Custom App 'Dynamic Content' widget in Help Scout.","trustedlogin-connector"),goLink:"https://secure.helpscout.net/apps/custom/",goLinkText:(0,r.__)("Create a Custom App in Help Scout","trustedlogin-connector")},freescout:{link:"#",linkText:(0,r.__)("Learn how to set up a TrustedLogin Free Scout widget.","trustedlogin-connector"),description:[(0,r.__)("Place module source to Modules folder of your FreeScout installation","text-domain"),(0,r.__)("Enable module in Modules admin panel","text-domain"),(0,r.__)("Go to Settings -> Modules -> TrustedLogin and enter these values.","text-domain"),(0,r.__)("Finally, go to your Mailbox Settings, select TrustedLogin, enable the TrustedLogin widget.","text-domain")],goLink:"https://github.com/trustedlogin/freescout-module",goLinkText:(0,r.__)("Setup the TrustedLogin Freescout Module.","trustedlogin-connector")}},Tn=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),Fn=()=>(0,i.jsx)("svg",{width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M1.37528 9.12479L9.62486 0.87521M9.62486 0.87521H1.37528M9.62486 0.87521V9.12479",stroke:"white",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round"})}),Mn=({team:t,helpdeskName:n})=>{const{resetTeamIntegration:s}=d(),l=(0,e.useMemo)((()=>t&&t.hasOwnProperty("helpdesk")&&-1!==t.helpdesk.findIndex((e=>n===e))?t.helpdesk_settings[n].secret:null),[t]),o=(0,e.useMemo)((()=>t&&t.hasOwnProperty("helpdesk")&&-1!==t.helpdesk.findIndex((e=>n===e))?t.helpdesk_settings[n].callback:null),[t]);function a(e){navigator.permissions.query({name:"clipboard-write"}).then((t=>{"granted"!==t.state&&"prompt"!==t.state||navigator.clipboard.writeText(e).then((function(){}),(function(){}))})).catch((t=>{console.warn("Falling back to direct clipboard write due to error:",t),navigator.clipboard.writeText(e).then((function(){console.log("Clipboard successfully set in fallback.")}),(function(t){console.error("Clipboard write failed in fallback.",{nested_err:t,value:e})})).catch((n=>{console.error("Final error during clipboard write.",{nested_err:n,err:t,value:e})}))}))}return(0,i.jsxs)("div",{className:"flex flex-1 flex-col space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("label",{htmlFor:"secret_key",className:"block text-sm font-medium text-gray-700",children:"Secret Key"}),(0,i.jsxs)("button",{onClick:()=>{s(t.account_id,n)},className:"flex items-center font-medium text-sm text-red-700",title:"Warning: will issue new key and cannot be undone",children:[(0,i.jsxs)("svg",{className:"mr-1",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M4.49995 4.50002C6.39995 2.60002 9.59995 2.60002 11.5 4.50002C12.2 5.20002 12.7 6.20002 12.9 7.20002L14.9 6.90002C14.7 5.40002 14 4.10002 13 3.10002C10.3 0.400024 5.89995 0.400024 3.09995 3.10002L0.899951 0.900024L0.199951 7.30002L6.59995 6.60002L4.49995 4.50002Z",fill:"#B00000"}),(0,i.jsx)("path",{d:"M15.8 8.70001L9.39997 9.40001L11.5 11.5C9.59998 13.4 6.39998 13.4 4.49998 11.5C3.79998 10.8 3.29998 9.80001 3.09998 8.80001L1.09998 9.10001C1.29998 10.6 1.99998 11.9 2.99998 12.9C4.39998 14.3 6.09998 14.9 7.89998 14.9C9.69998 14.9 11.5 14.2 12.8 12.9L15 15.1L15.8 8.70001Z",fill:"#B00000"})]}),"Refresh"]})]}),(0,i.jsxs)("div",{className:"mt-2 relative rounded-lg",children:[(0,i.jsx)("input",{type:"text",name:"secret_key",id:"secret_key",className:"block w-full pl-3 pr-10 py-2.5 sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-sky-500 focus:ring-1 ring-offset-2 focus:ring-sky-500 disabled:bg-slate-50 disabled:text-slate-500",defaultValue:l,disabled:!0}),(0,i.jsx)("button",{onClick:()=>a(l),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-600 hover:text-sky-500",title:(0,r.__)("Copy secret key","trustedlogin-connector"),"data-form-type":"action,search",children:(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M11 12H1C0.447 12 0 11.553 0 11V1C0 0.448 0.447 0 1 0H11C11.553 0 12 0.448 12 1V11C12 11.553 11.553 12 11 12Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M15 16H4V14H14V4H16V15C16 15.553 15.553 16 15 16Z",fill:"currentColor"})]})})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"callback_url",className:"block text-sm font-medium text-gray-700",children:(0,r.__)("Callback URL","trustedlogin-connector")}),(0,i.jsxs)("div",{className:"mt-2 relative rounded-lg",children:[(0,i.jsx)("input",{type:"text",name:"callback_url",id:"callback_url",className:"block w-full pl-3 pr-10 py-2.5 sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-sky-500 focus:ring-1 ring-offset-2 focus:ring-sky-500 disabled:bg-slate-50 disabled:text-slate-500",defaultValue:o,disabled:!0}),(0,i.jsx)("button",{onClick:()=>a(o),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-600 hover:text-sky-500",title:(0,r.__)("Copy Callback URL","trustedlogin-connector"),"data-form-type":"action,search",children:(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M11 12H1C0.447 12 0 11.553 0 11V1C0 0.448 0.447 0 1 0H11C11.553 0 12 0.448 12 1V11C12 11.553 11.553 12 11 12Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M15 16H4V14H14V4H16V15C16 15.553 15.553 16 15 16Z",fill:"currentColor"})]})})]})]})]})};function Pn({isOpen:t,setIsOpen:n,team:s,helpDesk:l="helpscout"}){const o=(0,e.useMemo)((()=>"freescout"===l?(0,r.__)("FreeScout","trustedlogin-connector"):(0,r.__)("Help Scout","trustedlogin-connector")),[l]),a=(0,e.useMemo)((()=>`${(0,r.__)("Configure Help Desk","trustedlogin-connector")} ${o}`),[o]);if(!On.hasOwnProperty(l))throw new Error(`Invalid help desk: ${l}`);const{link:c="#",linkText:d="",description:u="",goLink:p="#",goLinkText:m=""}=On[l]||{};return(0,i.jsx)(Dn,{isOpen:t,setIsOpen:n,title:a,link:c,linkText:d,description:u,goLink:p,goLinkText:m,helpDesk:l,children:(0,i.jsx)(Mn,{team:s,helpdeskName:l})})}function Dn({isOpen:e,setIsOpen:t,children:n,title:s,description:l,infoLink:o,infoLinkText:a,goLink:c,goLinkText:d,helpDesk:u}){const p={helpscout:En,freescout:Ln}[u];return(0,i.jsx)(Nn,{open:e,onClose:()=>t(!1),className:"fixed z-10 inset-0 overflow-y-auto",children:(0,i.jsxs)("div",{className:"flex items-center justify-center min-h-screen",children:[(0,i.jsx)(Nn.Overlay,{className:"fixed inset-0 bg-black opacity-30"}),(0,i.jsxs)("div",{className:"relative bg-white rounded max-w-sm mx-auto",children:[(0,i.jsx)(Nn.Title,{className:"sr-only",children:s}),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"inline-block align-middle bg-white rounded-lg p-8 text-left overflow-hidden shadow-xl transform transition-all",children:[(0,i.jsx)("div",{className:"hidden sm:block absolute top-0 right-0 pt-4 pr-4",children:(0,i.jsxs)("button",{onClick:()=>t(!1),type:"button",className:"bg-white rounded-lg text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 ring-offset-2 focus:ring-sky-500",children:[(0,i.jsx)("span",{className:"sr-only",children:(0,r.__)("Close","trustedlogin-connector")}),(0,i.jsx)(Tn,{})]})}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("div",{className:"flex mx-auto border h-20 w-20 items-center justify-center rounded-lg",children:(0,i.jsx)(p,{})}),(0,i.jsxs)("div",{className:"max-w-sm mx-auto mt-2 mb-8 justify-center text-center",children:[(0,i.jsx)("h2",{className:"mt-4 text-2xl text-gray-900",children:s}),Array.isArray(l)?(0,i.jsx)("ol",{className:"mt-2 mb-4 text-sm text-gray-500 text-left list-decimal",children:l.map(((e,t)=>(0,i.jsx)("li",{children:e},t)))}):(0,i.jsx)("p",{className:"mt-2 mb-4 text-sm text-gray-500",children:l}),(0,i.jsx)("a",{className:"text-blue-tl text-sm",href:o,children:a})]})]}),n,(0,i.jsxs)("div",{className:"mt-6 flex sm:mt-8",children:[(0,i.jsxs)("button",{onClick:()=>t(!1),type:"button",className:"mt-3 mr-4 w-2/5 inline-flex justify-center items-center rounded-lg border border-gray-300 px-4 py-2.5 bg-white text-base font-medium text-gray-900 hover:bg-gray-50 focus:outline-none focus:ring-2 ring-offset-2 focus:ring-sky-500 sm:mt-0 sm:col-start-1 sm:text-sm","data-form-type":"other",children:[(0,r.__)("Close","trustedlogin-connector")," "]}),(0,i.jsxs)("a",{href:c,type:"button",className:"w-3/5 inline-flex items-center justify-center rounded-lg border border-transparent px-4 py-2.5 bg-blue-tl text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 ring-offset-2 focus:ring-sky-500 sm:col-start-2 sm:text-sm","data-form-type":"action,search",children:[d,(0,i.jsx)(Fn,{})]})]})]})})]})]})})}const Vn=({heading:t,text:n,retryClick:s,learnMoreLink:l,isDismissible:o=!1})=>{const[a,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{u(!0)}),[]),a?null:(0,i.jsx)("div",{className:"tl-error max-w-md w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden transform transition-all duration-300 ease-in-out mb-2 "+(d?"slide-in":"slide-out"),children:(0,i.jsx)("div",{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)("div",{className:"flex-shrink-0",children:(0,i.jsxs)("svg",{width:"46",height:"46",viewBox:"0 0 46 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{x:"3",y:"3",width:"40",height:"40",rx:"20",fill:"#FEE4E2"}),(0,i.jsx)("path",{d:"M23.0003 19.6666V23M23.0003 26.3333H23.0087M31.3337 23C31.3337 27.6023 27.6027 31.3333 23.0003 31.3333C18.398 31.3333 14.667 27.6023 14.667 23C14.667 18.3976 18.398 14.6666 23.0003 14.6666C27.6027 14.6666 31.3337 18.3976 31.3337 23Z",stroke:"#D92D20",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("rect",{x:"3",y:"3",width:"40",height:"40",rx:"20",stroke:"#FEF3F2",strokeWidth:"6"})]})}),(0,i.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-gray-900",children:t}),n?(0,i.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:n}):null,l||s?(0,i.jsxs)("div",{className:"mt-3 flex space-x-5",children:[l?(0,i.jsx)("a",{href:l,className:"bg-white rounded-md text-sm font-medium text-red-700 hover:underline focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:(0,r.__)("Learn more","trustedlogin-connector")}):null,s?(0,i.jsxs)("button",{onClick:s,className:"tl-error-retry bg-white rounded-md text-sm font-medium text-red-700 hover:underline focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,r.__)("Try again","trustedlogin-connector"),(0,i.jsx)("span",{"aria-hidden":"true",children:"→"})]}):null]}):null]}),o?(0,i.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,i.jsxs)("button",{onClick:()=>{u(!1),setTimeout((()=>c(!0)),300)},className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,i.jsx)("span",{className:"sr-only",children:(0,r.__)("Close","trustedlogin-connector")}),(0,i.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}):null]})})})},In=({onClick:e,text:t})=>(0,i.jsxs)("div",{className:"tl-error flex flex-col justify-center text-center w-full max-w-lg mx-auto p-8 bg-white rounded-lg shadow sm:p-14",children:[(0,i.jsxs)("svg",{className:"mx-auto text-red-700",width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{x:"4",y:"4",width:"48",height:"48",rx:"24",fill:"currentColor"}),(0,i.jsx)("path",{d:"M28 24.4V28M28 31.6H28.009M37 28C37 32.9706 32.9706 37 28 37C23.0294 37 19 32.9706 19 28C19 23.0294 23.0294 19 28 19C32.9706 19 37 23.0294 37 28Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("rect",{x:"4",y:"4",width:"48",height:"48",rx:"24",stroke:"#FEE4E2",strokeWidth:"8"})]}),(0,i.jsxs)("h2",{className:"mt-4 text-2xl text-gray-900",children:[(0,r.__)("Uh oh!","trustedlogin-connector"),(0,i.jsx)("br",{}),(0,r.__)("Something went wrong.","trustedlogin-connector")]}),t?(0,i.jsx)("p",{className:"mt-2 mb-8 text-sm text-gray-500",children:t}):null,(0,i.jsx)("button",{onClick:e,className:"tl-error-retry inline-flex items-center justify-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-lg text-white bg-red-700 focus:outline-none focus:ring-2 ring-offset-2 focus:ring-sky-500 sm:text-sm",children:(0,r.__)("Try again","trustedlogin-connector")})]}),An=()=>{const{settings:t,removeTeam:n,setTeam:s,loading:l}=d(),[o,a]=(0,e.useState)(!1),[c,u]=(0,e.useState)(null),{setCurrentView:p,setCurrentTeam:h}=m(),f=(0,e.useMemo)((()=>t.teams),[t]),[x,b]=(0,e.useState)(null),[y,C]=(0,e.useState)([]),[w,j]=(0,e.useState)(!1),k=e=>e.helpdesk&&["helpscout","freescout"].includes(e.helpdesk[0].toLowerCase()),S=()=>{a(!1),u(null)};return(0,e.useEffect)((()=>{if(w&&!l){const e=f.filter((e=>"error"===e.status));e.length>0?C(e.map((e=>({message:e.message,id:e.id,name:""!==e.name?e.name:(0,r._x)("Team %s","trustedlogin-connector").replace("%s",e.id),account_id:e.account_id})))):C([])}j(l)}),[l,w,f]),(0,i.jsxs)(i.Fragment,{children:[l&&(0,i.jsx)(Ot,{size:150}),o?(0,i.jsx)(st,{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(xt,{title:(0,r.__)("Are You Sure?","trustedlogin-connector")}),(0,i.jsx)(v,{onSubmit:()=>{n(c,(()=>{C((e=>e.filter((e=>e.id!==c)))),S()}))},submitText:(0,r.__)("Delete Team","trustedlogin-connector"),onCancel:S,link:null,linkText:null})]})}):(0,i.jsxs)("div",{className:"flex flex-col px-5 py-6 sm:px-10",children:[(0,i.jsx)(rt,{title:(0,r.__)("Teams","trustedlogin-connector"),subTitle:(0,r.__)("Manage your TrustedLogin settings","trustedlogin-connector"),Button:()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(g,{onClick:()=>p("teams/new"),children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("svg",{className:"mr-1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,i.jsx)("g",{fill:"none",children:(0,i.jsx)("path",{d:"M12 6v6m0 0v6m0-6h6m-6 0H6",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,r.__)("Add Team","trustedlogin-connector")]})})})}),(0,i.jsx)("div",{className:"flex flex-col justify-center w-full bg-white rounded-lg shadow",children:(0,i.jsx)("ul",{role:"list",className:"divide-y divide-gray-200 px-5 sm:px-8",children:f.map((t=>{const{id:n=null,helpdesk:l=[],status:o,message:c}=t,d=Array.isArray(l)&&l.length>0?l[0]:"helpscout";return(0,i.jsxs)(e.Fragment,{children:[(0,i.jsx)(Pn,{isOpen:x===n,setIsOpen:()=>{b(null)},team:t,helpDesk:d}),(0,i.jsxs)("li",{className:"py-5 flex flex-col items-center justify-between sm:py-8 sm:flex-row",children:[(0,i.jsxs)("div",{className:"flex w-full items-center space-x-5 sm:w-auto",children:[(0,i.jsx)("button",{onClick:()=>{return e=t.id,h(e),void p("teams/access_key");var e},className:"flex-shrink-0 flex items-center justify-center h-12 w-12 bg-purple-600 text-white text-sm font-medium rounded-lg",children:t.name?t.name.substring(0,2):"TL"}),(0,i.jsx)("div",{className:"flex flex-row space-x-16 items-center w-full justify-between sm:justify-start",children:(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center max-w-[10rem] sm:max-w-[8rem] md:max-w-none",children:[(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("p",{className:"text-lg font-medium text-gray-900 leading-tight min-w-[6rem]",id:"team-option-1-label",children:t.name?t.name:(0,r._x)("Team {id}","{id} is replaced dynamically; do not translate","trustedlogin-connector").replace("{id}",t.id)}),(0,i.jsxs)("p",{className:"text-sm text-gray-500",id:"team-option-1-description",children:["#",t.account_id]})]}),"error"===o&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4 ml-4",role:"alert",children:[(0,i.jsxs)("p",{className:"font-bold",children:[(0,r.__)("Something went wrong","trustedlogin-connector"),"."]}),(0,i.jsx)("p",{children:/[.!?]$/.test(c)?c:`${c}.`})]})})]})})]}),(0,i.jsx)("div",{className:"flex items-center space-x-5 w-full mt-4 justify-between sm:w-auto sm:mt-0",children:(0,i.jsxs)("div",{className:"flex items-center space-x-6",children:[k(t)?(0,i.jsx)("button",{onClick:()=>{b(t.id)},className:"text-sm text-blue-tl hover:text-navy-tl p-2",children:(0,r.__)("Configure Help Desk","trustedlogin-connector")}):null,(0,i.jsx)("button",{onClick:()=>{p("teams/edit"),h(t.id)},className:"text-sm text-blue-tl hover:text-navy-tl p-2",children:(0,r.__)("Edit","trustedlogin-connector")}),(0,i.jsx)("button",{onClick:()=>(e=>{s({...e,updated:!0},!0)})(t),className:"text-sm text-blue-tl hover:text-navy-tl p-2",children:(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),(0,i.jsx)("path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -5v5h5"}),(0,i.jsx)("path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 5v-5h-5"})]})}),(0,i.jsx)("button",{onClick:()=>{return e=t.id,a(!0),void u(e);var e},className:"text-sm text-red-500 hover:text-red-800 p-2",children:(0,r.__)("Delete","trustedlogin-connector")})]})})]})]},n)}))})})]}),!l&&y.map(((e,t)=>(0,i.jsx)(Vn,{heading:(0,r.__)("Something went wrong with %s","trustedlogin-connector").replace("%s",e.name),text:e.message,isDismissible:!0},t)))]})},Bn=window.wp.apiFetch;var Rn=s.n(Bn);function Hn(e){let t={};const n=new FormData(e);for(let[e,r]of n)t[e]=r;return t}const Wn=e=>e&&1===Object.keys(e).length,zn=e=>e&&e[Object.keys(e)[0]],$n=({children:e,minimal:t,title:n,description:r})=>(0,i.jsx)("div",{className:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"mx-auto bg-white rounded-lg px-8 py-3 text-left overflow-hidden shadow-xl transform transition-all sm:max-w-lg sm:w-full sm:px-14 sm:py-8",children:[(0,i.jsx)("div",{className:"w-full p-8 text-center",children:(0,i.jsx)(b,{})}),!t&&(0,i.jsx)(xt,{title:n,description:r}),e]})}),Kn=({initialAccountId:t=null,minimal:n=!1})=>{const[s,l]=(0,e.useState)((()=>window.tlVendor&&window.tlVendor.accessKey.hasOwnProperty("ak")&&window.tlVendor.accessKey.ak.length>0?window.tlVendor.accessKey.ak:"")),[o,a]=(0,e.useState)((()=>{if(window.tlVendor&&window.tlVendor.hasOwnProperty("redirectData")){let e={};return Object.keys(window.tlVendor.redirectData).forEach((t=>{let n=window.tlVendor.redirectData[t],r=!0;["siteurl","endpoint","identifier"].forEach((e=>{window.tlVendor.redirectData[t].hasOwnProperty(e)||(r=!1)})),r&&(e[t]=n)})),e}return null})),[c,u]=(0,e.useState)((()=>Wn(o)?zn(o):null)),{getTeam:p,settings:m}=d(),h=m.teams,[f,g]=(0,e.useState)((()=>{if(null!==t){const e=p(t);if(e)return e.account_id}else if(h&&1===h.length)return h[0].account_id;return""})),v=(0,e.useMemo)((()=>h?h.map((e=>({label:e.name,value:e.account_id}))):[]),[h]),[b,y]=(0,e.useState)(!1),[C,w]=(0,e.useState)("");return(0,e.useEffect)((()=>{Wn(o)&&u(zn(o))}),[o,u]),(0,e.useEffect)((()=>{c&&document.getElementById("access-key-form").submit()}),[c]),(0,e.useEffect)((()=>{console.log("Teams:",h)}),[h]),o&&!c?(0,i.jsx)($n,{minimal:n,title:(0,r.__)("Select site to log into.","trustedlogin-connector"),description:(0,r.__)("There are multiple sites associated with this access key.","trustedlogin-connector"),children:(0,i.jsx)("div",{children:(0,i.jsx)("ul",{children:Object.keys(o).map((e=>{const t=o[e];return(0,i.jsx)("li",{children:(0,i.jsx)(x,{onClick:()=>u(t),children:t.siteurl})},e)}))})})}):(0,i.jsxs)($n,{minimal:n,title:(0,r.__)("Log In Using Access Key","trustedlogin-connector"),description:(0,r.__)("Paste the Access Key to log into the connected website.","trustedlogin-connector"),children:[(0,i.jsx)("form",{"aria-label":(0,r.__)("Log In Using Access Key","trustedlogin-connector"),onSubmit:e=>{w("");let t=e.target;if(o){if(c){e.preventDefault();let n=Hn(t);fetch(c.loginurl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"}).then((e=>{e.ok()?window.location=c.siteurl:(y(!1),w((0,r.__)("There was an error while logging in with the access key.","trustedlogin-connector")))})).catch((e=>{y(!1),w((0,r.__)("There was an error while logging in with the access key.","trustedlogin-connector"))}))}}else{if(y(!0),!t.checkValidity())return void y(!1);const n=Hn(t);e.preventDefault(),Rn()({path:"/trustedlogin/v1/access_key",method:"POST",data:n}).catch((e=>{y(!1),e&&e.hasOwnProperty("data")&&"string"==typeof e.data?w(e.data):e&&e.hasOwnProperty("message")&&"string"==typeof e.message?w(e.message):w((0,r.__)("There was an error processing the access key.","trustedlogin-connector"))})).then((e=>{if(e&&e.hasOwnProperty("success")&&e.success){const{data:t}=e;a(t),y(!1)}}))}},id:"access-key-form",method:"POST",action:c?c.siteurl:null,className:"flex flex-col py-6 space-y-6 justify-center",children:c?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"text-center",children:(0,r.__)("Redirecting…","trustedlogin-connector")}),(0,i.jsx)("input",{type:"hidden",name:"action",value:"trustedlogin"}),(0,i.jsx)("input",{type:"hidden",name:"endpoint",value:c.endpoint}),(0,i.jsx)("input",{type:"hidden",name:"identifier",value:c.identifier})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{type:"hidden",name:"trustedlogin",value:1}),(0,i.jsx)("input",{type:"hidden",name:"action",value:window.tlVendor.accessKey.action}),(0,i.jsx)("input",{type:"hidden",name:"provider",value:window.tlVendor.accessKey.provider}),(0,i.jsx)("input",{type:"hidden",name:"_tl_ak_nonce",value:window.tlVendor.accessKey._tl_ak_nonce}),null!==t?(0,i.jsx)("input",{type:"hidden",name:"ak_account_id",value:f}):(0,i.jsx)(kt,{name:"ak_account_id",id:"ak_account_id",label:(0,r.__)("Account ID","trustedlogin-connector"),value:f,onChange:e=>g(e.target.value),children:(0,i.jsx)("select",{name:"ak_account_id",id:"ak_account_id",className:"bg-white block w-full pl-3 pr-8 py-2.5 sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-sky-500 focus:ring-1 ring-offset-2 focus:ring-sky-500",children:v.map((({label:e,value:t})=>(0,i.jsx)("option",{value:t,children:e},t)))})}),(0,i.jsx)("div",{className:"relative rounded-lg",children:(0,i.jsx)(St,{name:"ak",id:"ak",label:(0,r.__)("Access Key","trustedlogin-connector"),children:(0,i.jsx)("input",{value:s,onChange:e=>l(e.target.value),type:"text",name:"ak",id:"ak",minLength:64,maxLength:64,autoComplete:"off",className:"block w-full pl-4 pr-10 py-4 sm:text-md border border-gray-300 rounded-lg focus:outline-none focus:border-sky-500 focus:ring-1 ring-offset-2 focus:ring-sky-500",placeholder:(0,r.__)("Paste key received from customer","trustedlogin-connector")})})}),b?(0,i.jsx)("div",{className:"spinner-light-tl inline-flex justify-center p-4 border border-transparent text-md font-medium rounded-lg text-white bg-blue-tl"}):(0,i.jsx)("input",{type:"submit",className:"inline-flex justify-center p-4 border border-transparent text-md font-medium rounded-lg text-white bg-blue-tl hover:bg-indigo-700 focus:outline-none focus:ring-2 ring-offset-2 focus:ring-sky-500",value:(0,r.__)("Log In","trustedlogin-connector")})]})}),C&&(0,i.jsx)(Vn,{heading:C})]})},Zn=()=>{const{currentView:t,setCurrentView:n,currentTeam:r}=m(),{setTeam:s,settings:l,getTeam:o}=d(),a=(0,e.useMemo)((()=>!1!==r?o(r):null),[o,r]);return"teams/edit"===t?(0,i.jsx)(Ft,{team:a,onClickSave:e=>{s({...e,id:a.hasOwnProperty("id")?a.id:l.team.length+1},!0),n("teams")}}):"teams/access_key"===t?(0,i.jsx)(Kn,{initialAccountId:r}):(0,i.jsx)(An,{})},Un=({onClick:e,id:t,children:n,isExpanded:r,hasPopup:s})=>(0,i.jsx)(f,{onClick:e,className:"bg-white border border-red-700 rounded-lg px-4 py-2 inline-flex items-center justify-center text-sm font-medium text-red-700 hover:bg-gray-50 focus:outline-none focus:ring-2 ring-offset-2 focus:ring-red-700",id:t,isExpanded:r,hasPopup:s,children:n});Un.defaultProps={isExpanded:!1,hasPopup:!0};const qn=({isEnabled:t,onClick:n,labeledBy:r,describedBy:s,isLoading:l=!1})=>{const o=(0,e.useMemo)((()=>{let e="ml-4 relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500";return e=t?`bg-teal-500 ${e}`:`bg-gray-200 ${e}`,l&&(e=`animate-pulse ${e}`),e}),[t,l]),a=(0,e.useMemo)((()=>{let e="inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200";return e=t?`translate-x-5 ${e}`:`translate-x-0 ${e}`,e}),[t]);return(0,i.jsx)("button",{onClick:e=>{e.preventDefault(),n()},type:"button",className:o,role:"switch","aria-checked":t,"aria-labelledby":r,"aria-describedby":s,children:(0,i.jsx)("span",{"aria-hidden":"true",className:a})})},Gn="/trustedlogin/v1/settings",Yn={updateSettings:async({teams:e=null,integrations:t=null})=>{const n={};e?n.teams=e:t&&(n.integrations=t);try{return await Rn()({path:n.integrations?`${Gn}/global`:Gn,method:"POST",data:n})}catch(e){throw console.error("updateSettings: API error:",e),e}},getSettings:async()=>{try{const e=await Rn()({path:Gn});return e.teams&&(e.teams=e.teams.map(((e,t)=>(e.helpdesk||(e.helpdesk="helpscout"),{id:t,...e})))),e}catch(e){throw console.error("getSettings: API error:",e),e}},resetTeamIntegrations:async(e,t)=>{try{return await Rn()({path:`${Gn}/team/reset`,method:"POST",data:{integration:t,accountId:e}})}catch(e){throw console.error("resetTeamIntegrations: API error:",e),e}},resetEncryptionKeys:async()=>{try{return await Rn()({path:`${Gn}/encryption/reset`,method:"POST"})}catch(e){throw console.error("resetEncryptionKeys: API error:",e),e}}},Jn=({title:e,subTitle:t,children:n})=>(0,i.jsxs)("div",{className:"flex flex-col justify-center w-full bg-white p-8 pb-0 rounded-lg shadow",children:[(0,i.jsx)("div",{className:"flex items-center space-x-5",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl text-gray-900",children:e}),(0,i.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:t})]})}),n]});function Xn({text:e}){return(0,i.jsx)("div",{className:"rounded-md bg-green-50 p-4 mt-4 mb-4",children:(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)("div",{className:"flex-shrink-0",children:(0,i.jsx)("span",{class:"dashicons dashicons-yes-alt h-5 w-5 text-green-400"})}),(0,i.jsx)("div",{className:"ml-3",children:(0,i.jsx)("h3",{className:"text-sm font-medium text-green-800",children:e})})]})})}const Qn=()=>{const{api:t,setNotice:n,notice:s}=d(),[l,o]=(0,e.useState)(!1);return(0,i.jsx)(i.Fragment,{children:l?(0,i.jsxs)(st,{children:[(0,i.jsx)(xt,{title:(0,r.__)("Are You Sure?","trustedlogin-connector")}),(0,i.jsx)(v,{onSubmit:()=>t.resetEncryptionKeys().then((()=>{o(!1),n({text:"Encryption Was Reset Succesfully",type:"success",visible:!0})})).catch((()=>{o(!1),n({text:"Encryption Reset Failed",type:"error",visible:!1})})),submitText:"Reset Keys",onCancel:()=>o(!1)})]}):(0,i.jsxs)(Jn,{title:(0,r.__)("Danger Zone","trustedlogin-connector"),children:[s&&s.visible?(0,i.jsx)(Xn,{text:s.text}):null,(0,i.jsx)("div",{className:"bg-white p-8 border border-red-700 rounded-lg mb-8",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)("div",{className:"flex items-center justify-center h-12 w-12 bg-red-700 rounded-lg",children:(0,i.jsx)("svg",{className:"text-white",width:"22",height:"12",viewBox:"0 0 22 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M11.65 4C10.83 1.67 8.61 0 6 0C2.69 0 0 2.69 0 6C0 9.31 2.69 12 6 12C8.61 12 10.83 10.33 11.65 8H16V12H20V8H22V4H11.65ZM6 8C4.9 8 4 7.1 4 6C4 4.9 4.9 4 6 4C7.1 4 8 4.9 8 6C8 7.1 7.1 8 6 8Z",fill:"currentColor"})})}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",id:"dangerzone-option-1-label",children:(0,r.__)("Reset encryption keys?","trustedlogin-connector")}),(0,i.jsx)("p",{className:"text-sm text-gray-500",id:"dangerzone-option-1-description",children:(0,r.__)("If you reset the encryption keys, all previous authorized logins will be inaccessible.","trustedlogin-connector")})]})]}),(0,i.jsx)(Un,{onClick:()=>o(!0),id:"reset-keys-button",children:"Reset Keys"})]})})]})})},er=()=>{const[t,n]=(0,e.useState)(!1),[s,l]=(0,e.useState)((()=>tlVendor.settings.error_logging?{debug:!0,activity:!1}:{debug:!1,activity:!1})),o=(0,e.useMemo)((()=>!tlVendor.settings.debug_mode||"NULL"!==tlVendor.settings.debug_mode),[tlVendor.settings.debug_mode]);return(0,e.useMemo)((()=>{n(!0),(async e=>{try{return await Rn()({path:`${Gn}/logging`,method:"POST",data:{error:e}})}catch(e){throw console.error("updateLoggingSettings: API error:",e),e}})(s.debug).then((()=>{n(!1)}))}),[s]),(0,i.jsx)(Jn,{title:(0,r.__)("Logging","trustedlogin-connector"),subTitle:(0,r.__)("These settings relate to logging TrustedLogin activity, including remote interactions and usage activity.","trustedlogin-connector"),children:(0,i.jsxs)("ul",{role:"list",className:"divide-y divide-gray-200",children:[(0,i.jsxs)("li",{className:"py-8 flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)("div",{className:"flex items-center justify-center h-12 w-12 border border-gray-300 rounded-lg",children:(0,i.jsxs)("svg",{className:"text-gray-900",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M12 7V23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M1 13H4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M4 5L6.1 7.1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M19.9999 5L17.8999 7.1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M4 21.9999L6.1 19.8999",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M19.9999 21.9999L17.8999 19.8999",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M20 13H23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M9 3L7 1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M15 3L17 1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M15.9 5.19995C18.4 6.79995 20 9.89995 20 13.5C20 18.7 16.4 23 12 23C7.6 23 4 18.7 4 13.5C4 9.89995 5.7 6.79995 8.1 5.19995",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M12 2C10 2 8.3 3.5 8 5.5C8 5.5 10 7 12 7C14 7 16 5.5 16 5.5C15.7 3.5 14 2 12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",id:"debug-option-label",children:(0,r.__)("Debug Logging","trustedlogin-connector")}),(0,i.jsxs)("p",{className:"text-sm text-gray-500",id:"debug-option-description",children:[(0,r.__)("When enabled, logs will be saved to the following location:","trustedlogin-connector"),(0,i.jsx)("code",{children:tlVendor.log_file_name}),o?(0,i.jsx)("span",{className:"text-red-700",children:(0,r.__)('This setting is currently overridden by the PHP constant "TRUSTEDLOGIN_DEBUG".',"trustedlogin-connector")}):null]}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:(0,r.__)("Disabling the setting will delete the log file.","trustedlogin-connector")})]})]}),(0,i.jsx)(qn,{isEnabled:s.debug,onClick:()=>{o||l({...s,debug:!s.debug})},labelledBy:"debug-option-label","aria-describedBy":"debug-option-description",isLoading:t})]}),null]})})},tr=()=>(0,i.jsx)(e.Fragment,{children:(0,i.jsxs)("div",{className:"flex flex-col px-5 py-6 sm:px-10",children:[(0,i.jsx)(rt,{title:(0,r.__)("Settings","trustedlogin-connector"),subTitle:(0,r.__)("Manage your TrustedLogin settings","trustedlogin-connector")}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)(er,{}),(0,i.jsx)(Qn,{})]})]})}),nr={helpscout:{id:"helpscout",isEnabled:!0,name:(0,r.__)("Help Scout","trustedlogin-connector"),description:(0,r.__)("Customer support platform, knowledge base tool, and an contact widget for customer service.","trustedlogin-connector"),IconSVG:En},freescout:{id:"freescout",isEnabled:!1,name:(0,r.__)("FreeScout","trustedlogin-connector"),description:(0,r.__)("FreeScout is a self-hosted, open-source customer support solution, equipped with email-ticketing, a customizable knowledge base tool, and various modules for enhanced customer service functionality.","trustedlogin-connector"),IconSVG:Ln}},rr=({Icon:t,name:n,description:r,id:s,toggleOpenState:l})=>{const{settings:o,setSettings:a,onSaveIntegrationSettings:c}=d(),u=(0,e.useMemo)((()=>!!o.integrations[s]&&o.integrations[s].enabled),[o.integrations]),p=(0,e.useMemo)((()=>(u?"bg-blue-tl":"bg-gray-200")+" ml-4 relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500"),[u]),m=(0,e.useMemo)((()=>(u?"translate-x-5":"translate-x-0")+" inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition-transform ease-in-out duration-200"),[u]);return(0,i.jsx)("li",{onClick:l,className:"col-span-1 flex flex-col justify-between bg-white rounded-lg shadow divide-y divide-gray-200",children:(0,i.jsxs)("div",{className:"p-6 space-y-6",children:[(0,i.jsxs)("div",{className:"w-full flex items-center justify-between space-x-6",children:[(0,i.jsx)("div",{className:"flex-1 truncate",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("button",{className:"flex-shrink-0",onClick:l,children:(0,i.jsx)(t,{height:48,width:40})}),(0,i.jsx)("div",{className:"ml-5 w-0 flex-1",id:`${s}-label`,role:"label",children:n})]})}),(0,i.jsx)("button",{onClick:()=>(()=>{let e={...o,integrations:{...o.integrations,[s]:{...o.integrations[s],enabled:!o.integrations[s]||!o.integrations[s].enabled}}};a(e),c({integrations:e.integrations},!1)})(),type:"button",className:p,role:"switch","aria-checked":"true","aria-labelledby":`${s}-label`,"aria-describedby":`${s}-description`,children:(0,i.jsx)("span",{"aria-hidden":"true",className:m})})]}),(0,i.jsx)("p",{className:"text-sm text-gray-500",id:`${s}-description`,children:r})]})})},sr=({helpdesk:t})=>{const[n,s]=(0,e.useState)(!0),l=nr[t];return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(rr,{toggleOpenState:()=>s(!n),id:l.id,isEnabled:l.isEnabled,name:l.name,description:(0,r.__)(l.description,"trustedlogin-connector"),Icon:l.IconSVG})})},lr=()=>(0,i.jsxs)("div",{className:"flex flex-col px-5 py-6 sm:px-10",children:[(0,i.jsx)(rt,{title:"Integrations",subTitle:"Manage Integrations"}),(0,i.jsx)("div",{className:"flex flex-col justify-center w-full",children:(0,i.jsx)("ul",{role:"list",className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:["helpscout","freescout"].map((t=>(0,i.jsx)(e.Fragment,{children:(0,i.jsx)(sr,{helpdesk:t})},t)))})})]});function ir(){const{currentView:t,setCurrentView:n}=m(),{settings:r,addTeam:s,errorMessage:l,setErrorMessage:o,loading:a}=d(),c=(0,e.useMemo)((()=>r&&r.hasOwnProperty("teams")?r.teams:[]),[r]);return"onboarding"===t?(0,i.jsx)(wt,{step:2,singleStepMode:!0}):"teams/new"===t?(0,i.jsx)(Mt,{onSave:e=>{s(e),onSave(),n("teams")},loading:a}):"teams"===t?c.length?(0,i.jsxs)(lt,{children:[(0,i.jsx)(nt,{status:"Connected"}),a&&(0,i.jsx)(Ot,{size:150}),l?(0,i.jsx)(In,{onClick:()=>o(null),text:l.text}):(0,i.jsx)(i.Fragment,{children:"string"==typeof t&&t.startsWith("teams")?(0,i.jsx)(Zn,{}):(0,i.jsx)(i.Fragment,{children:"integrations"===t?(0,i.jsx)(lr,{}):(0,i.jsx)(tr,{})})})]}):(0,i.jsx)(jt,{onClick:()=>{n("teams/new")}}):(0,i.jsxs)(lt,{children:[(0,i.jsx)(nt,{status:"Connected"}),a&&(0,i.jsx)(Ot,{size:150}),l?(0,i.jsx)(In,{onClick:()=>o(null),text:l.text}):(0,i.jsx)(i.Fragment,{children:"string"==typeof t&&t.startsWith("teams")?(0,i.jsx)(Zn,{}):(0,i.jsx)(i.Fragment,{children:"integrations"===t?(0,i.jsx)(lr,{}):(0,i.jsx)(tr,{})})})]})}function or({getSettings:t,updateSettings:n,resetTeamIntegrations:r,resetEncryptionKeys:s,hasOnboarded:l,initialTeams:o=null,initialIntegrationSettings:a=null}){return(0,i.jsx)(e.StrictMode,{children:(0,i.jsx)(u,{hasOnboarded:l,initialTeams:o,initialIntegrationSettings:a,api:{getSettings:t,updateSettings:n,resetTeamIntegrations:r,resetEncryptionKeys:s},children:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(ir,{})})})})}const ar=window.tlVendor&&"COMPLETE"===window.tlVendor.onboarding;let cr=null,dr=null;window.tlVendor&&(cr=window.tlVendor.settings.teams,cr.length>0&&(cr=cr.map(((e,t)=>({...e,id:t})))),dr=window.tlVendor.settings.integrations);const ur=e=>{e&&e.length&&e.forEach((e=>e.remove()))};window.addEventListener("load",(function(){ur(document.getElementsByClassName("notice")),ur(document.getElementsByClassName("woocommerce-message")),(0,n.render)((0,i.jsx)(or,{...Yn,hasOnboarded:ar,initialTeams:cr,initialIntegrationSettings:dr}),document.getElementById("trustedlogin-settings"))}))})()})();